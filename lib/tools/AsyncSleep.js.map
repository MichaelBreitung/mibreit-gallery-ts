{"version":3,"file":"AsyncSleep.js","sources":["../../src/tools/AsyncSleep.ts"],"sourcesContent":["/**\r\n * @author Michael Breitung\r\n * @copyright Michael Breitung Photography (www.mibreit-photo.com)\r\n */\r\n\r\nconst sleep = async function (ms: number): Promise<void> {\r\n  // @ts-ignore\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, ms);\r\n  });\r\n};\r\n\r\nconst sleepTillNextRenderFinished = async function (): Promise<void> {\r\n  // @ts-ignore\r\n  return new Promise((resolve, reject) => {\r\n    requestAnimationFrame(() => {\r\n      // fires before next repaint\r\n      requestAnimationFrame(() => {\r\n        // fires before the _next_ next repaint\r\n        // ...which is effectively _after_ the next repaint\r\n        resolve();\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nexport { sleep, sleepTillNextRenderFinished };\r\n"],"names":["sleepTillNextRenderFinished","resolve","reject"],"mappings":"AAcA,MAAMA,EAA8B,gBAAiC,CAEnE,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,sBAAsB,IAAM,CAE1B,sBAAsB,IAAM,CAGlBD,GAAA,CACT,CAAA,CACF,CAAA,CACF,CACH"}