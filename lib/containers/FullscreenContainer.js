var C=Object.defineProperty;var f=(s,e,l)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l;var t=(s,e,l)=>f(s,typeof e!="symbol"?e+"":e,l);import{addCssStyle as r,createElement as i,addCssClass as c,setInnerHtml as m,appendChildElement as o,setAttribute as u,getElement as b,removeElement as n,prependBeforeChild as h,removeCssStyle as a,addClickEventListener as P}from"../node_modules/mibreit-dom-tools/lib/index.js";import _ from"./FullscreenContainer.module.css.js";import v from"../images/close.svg.js";const w="slideshowContainerPlaceholder",F="thumbContainerPlaceholder";class E{constructor(e,l=null,d=!0){t(this,"_fullscreenChangedCallbacks",[]);t(this,"_fullscreenActive");t(this,"_slideshowContainer");t(this,"_thumbContainer",null);t(this,"_fullScreenContainer");t(this,"_slideshowContainerPlaceholder");t(this,"_thumbContainerPlaceholder",null);t(this,"_fullScreenCloseButton");t(this,"_usePlaceholder");this._fullscreenActive=!1,this._slideshowContainer=e,this._thumbContainer=l,this._usePlaceholder=d,this._fullScreenContainer=this._createFullscreenContainer(),this._fullScreenCloseButton=this._createFullscreenCloseButton(this._fullScreenContainer),this._slideshowContainerPlaceholder=this._createSlideshowContainerPlaceholder(),l&&(this._thumbContainerPlaceholder=this._createThumbContainerPlaceholder())}activate(){this._fullscreenActive||(this._moveGalleryToFullscreen(),this._moveThumbsToFullscreen(),this._addFullscreen(),this._setupCloseButtonHandler(),this._fullscreenActive=!0,this._fullscreenChangedCallbacks.forEach(e=>{e(!0)}))}deActivate(){this._fullscreenActive&&(this._removeGalleryFromFullscreen(),this._removeThumbsFromFullscreen(),this._removeFullscreen(),this._fullscreenActive=!1,this._fullscreenChangedCallbacks.forEach(e=>{e(!1)}))}addFullscreenChangedCallback(e){this._fullscreenChangedCallbacks.includes(e)||this._fullscreenChangedCallbacks.push(e)}isFullscreenActive(){return this._fullscreenActive}setBackgroundColor(e){r(this._fullScreenContainer,"background-color",e)}_createFullscreenContainer(){const e=i("div");return c(e,_.mibreit_Fullscreen),e}_createFullscreenCloseButton(e){const l=i("div");return m(l,v),c(l,_.mibreit_Fullscreen_exit),o(l,e),l}_createSlideshowContainerPlaceholder(){const e=i("div");return u(e,"id",w),e}_createThumbContainerPlaceholder(){const e=i("div");return u(e,"id",F),e}_addFullscreen(){const e=b("body");e!=null&&o(this._fullScreenContainer,e)}_removeFullscreen(){n(this._fullScreenContainer)}_moveGalleryToFullscreen(){this._usePlaceholder&&h(this._slideshowContainerPlaceholder,this._slideshowContainer),o(this._slideshowContainer,this._fullScreenContainer),r(this._slideshowContainer,"width","100%"),r(this._slideshowContainer,"flex-grow","1")}_removeGalleryFromFullscreen(){n(this._slideshowContainer),this._usePlaceholder&&(h(this._slideshowContainer,this._slideshowContainerPlaceholder),n(this._slideshowContainerPlaceholder)),a(this._slideshowContainer,"width"),a(this._slideshowContainer,"flex-grow")}_moveThumbsToFullscreen(){this._thumbContainer&&this._thumbContainerPlaceholder&&(this._usePlaceholder&&h(this._thumbContainerPlaceholder,this._thumbContainer),o(this._thumbContainer,this._fullScreenContainer),r(this._thumbContainer,"flex-grow","0"))}_removeThumbsFromFullscreen(){this._thumbContainer&&this._thumbContainerPlaceholder&&(n(this._thumbContainer),this._usePlaceholder&&(h(this._thumbContainer,this._thumbContainerPlaceholder),n(this._thumbContainerPlaceholder)),a(this._thumbContainer,"flex-grow"))}_setupCloseButtonHandler(){P(this._fullScreenCloseButton,e=>{e==null||e.stopPropagation(),this._fullscreenActive&&this.deActivate()})}}export{E as default};
//# sourceMappingURL=FullscreenContainer.js.map
