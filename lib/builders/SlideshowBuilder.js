var i=Object.defineProperty;var d=(s,r,e)=>r in s?i(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e;var m=(s,r,e)=>d(s,typeof r!="symbol"?r+"":r,e);import l from"../node_modules/mibreit-lazy-loader/lib/components/LazyLoader.js";import"../node_modules/mibreit-lazy-loader/lib/types/index.js";import w from"../components/ImageViewer.js";import _ from"../containers/Slideshow.js";import h from"../components/Image.js";import{PRELOADER_LEFT_SIZE as o,PRELOADER_RIGHT_SIZE as I}from"../constants.js";class R{constructor(r,e){m(this,"_imageViewer");m(this,"_lazyLoader");const t=this._createImagesArray(r);this._lazyLoader=this._createLoader(t,e==null?void 0:e.loaderWindowLeft,e==null?void 0:e.loaderWindowRight),this._imageViewer=this._createImageViewer(t,e==null?void 0:e.scaleMode,e==null?void 0:e.zoom),e!=null&&e.interval&&setInterval(()=>{this._imageViewer.showNextImage()},e.interval),this._imageViewer.showImage(0)}build(){return new _(this._imageViewer,this._lazyLoader)}_createImagesArray(r){const e=new Array;for(let t=0;t<r.length;t++){const a=new h(r[t]);e.push(a)}return e}_createLoader(r,e=o,t=I){const a=new l(r,e,t);return setTimeout(()=>{a.loadElement(0),a.setCurrentIndex(0)},0),a}_createImageViewer(r,e,t){const a=new w(r,this._lazyLoader,e);return t!==void 0&&a.setZoomAnimation(t),a}}export{R as default};
