var d=Object.defineProperty;var l=(m,r,e)=>r in m?d(m,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[r]=e;var s=(m,r,e)=>l(m,typeof r!="symbol"?r+"":r,e);import"../node_modules/mibreit-lazy-loader/lib/tools/createLazyLoader.js";import _ from"../node_modules/mibreit-lazy-loader/lib/components/LazyLoader.js";import"../node_modules/mibreit-lazy-loader/lib/components/Element.js";import o from"../components/ImageViewer.js";import w from"../containers/Slideshow.js";import h from"../components/Image.js";import{PRELOADER_LEFT_SIZE as I,PRELOADER_RIGHT_SIZE as u}from"../constants.js";class v{constructor(r,e){s(this,"_imageViewer");s(this,"_lazyLoader");const a=this._createImagesArray(r);this._lazyLoader=this._createLoader(a,e==null?void 0:e.preloaderBeforeSize,e==null?void 0:e.preloaderAfterSize),this._imageViewer=this._createImageViewer(a,e==null?void 0:e.scaleMode,e==null?void 0:e.zoom),e!=null&&e.interval&&setInterval(()=>{this._imageViewer.showNextImage()},e.interval),this._imageViewer.showImage(0)}build(){return new w(this._imageViewer,this._lazyLoader)}_createImagesArray(r){const e=new Array;for(let a=0;a<r.length;a++){const t=new h(r[a]);e.push(t)}return e}_createLoader(r,e=I,a=u){const t=new _(r,e,a);return setTimeout(()=>{t.loadElement(0),t.setCurrentIndex(0)},0),t}_createImageViewer(r,e,a){const t=new o(r,e);return a!==void 0&&t.setZoomAnimation(a),t.addImageChangedCallback((i,L)=>{this._lazyLoader.setCurrentIndex(i)}),t}}export{v as default};
