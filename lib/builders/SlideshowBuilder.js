var l=Object.defineProperty;var _=(m,r,e)=>r in m?l(m,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[r]=e;var i=(m,r,e)=>_(m,typeof r!="symbol"?r+"":r,e);import"../node_modules/mibreit-lazy-loader/lib/tools/createLazyLoader.js";import w from"../node_modules/mibreit-lazy-loader/lib/components/LazyLoader.js";import"../node_modules/mibreit-lazy-loader/lib/components/Element.js";import h from"../components/ImageViewer.js";import I from"../containers/Slideshow.js";import o from"../components/Image.js";import{PRELOADER_LEFT_SIZE as u,PRELOADER_RIGHT_SIZE as L}from"../constants.js";class R{constructor(r,e){i(this,"_imageViewer");i(this,"_lazyLoader");const a=this._createImagesArray(r);this._lazyLoader=this._createLoader(a,e==null?void 0:e.preloaderBeforeSize,e==null?void 0:e.preloaderAfterSize),this._imageViewer=this._createImageViewer(a,this._lazyLoader,e==null?void 0:e.scaleMode,e==null?void 0:e.zoom),e!=null&&e.interval&&setInterval(()=>{this._imageViewer.showNextImage()},e.interval),this._imageViewer.showImage(0)}build(){return new I(this._imageViewer,this._lazyLoader)}_createImagesArray(r){const e=new Array;for(let a=0;a<r.length;a++){const t=new o(r[a]);e.push(t)}return e}_createLoader(r,e=u,a=L){const t=new w(r,e,a);return setTimeout(()=>{t.loadElement(0),t.setCurrentIndex(0)},0),t}_createImageViewer(r,e,a,t){const s=new h(r,a);return t!==void 0&&s.setZoomAnimation(t),e&&(s.addImageChangedCallback((d,p)=>{e.setCurrentIndex(d)}),e.setCurrentIndex(0)),s}}export{R as default};
