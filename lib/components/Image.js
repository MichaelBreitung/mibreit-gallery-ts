var o=Object.defineProperty;var n=(r,i,t)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[i]=t;var a=(r,i,t)=>n(r,typeof i!="symbol"?i+"":i,t);import{disableContextMenu as u,disableDragging as T,overwriteCssStyles as l}from"../node_modules/mibreit-dom-tools/lib/index.js";import c from"../node_modules/mibreit-lazy-loader/lib/components/Element.js";import"../node_modules/mibreit-lazy-loader/lib/types/index.js";import{IMAGE_TITLE_ATTRIBUTE as p,IMAGE_DATA_TITLE_ATTRIBUTE as h,IMAGE_DESCRIPTION_ATTRIBUTE as A}from"../constants.js";class M extends c{constructor(t){super(t);a(this,"_title","");a(this,"_description","");a(this,"_metadata",null);this._prepareMetadata(t),this._prepareTitle(t),this._prepareDescription(t),this._limitMaxSizeTo(t,this.getWidth(),this.getHeight()),u(t),T(t)}getTitle(){return this._title}getDescription(){return this._description}getUrl(){return this._element.hasAttribute("data-src")?this._element.getAttribute("data-src"):this._element.getAttribute("src")}getMetadata(){return this._metadata}hasPrintMeta(){return!!(this._metadata&&(this._metadata.printSize||this._metadata.printUrl))}_limitMaxSizeTo(t,e,s){l(t,`max-width: ${e}px; max-height: ${s}px`)}_prepareTitle(t){let e=t.getAttribute(p);e?(t.setAttribute(h,e),t.removeAttribute(p)):e=t.getAttribute(h),this._title=e??""}_prepareDescription(t){let e=t.getAttribute(A);this._description=e??""}_prepareMetadata(t){const e={};for(const[s,_]of Object.entries(t.dataset))s&&_&&(e[s]=_);this._metadata=Object.keys(e).length>0?e:null}}export{M as default};
