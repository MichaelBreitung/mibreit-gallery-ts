var l=Object.defineProperty;var r=(t,s,e)=>s in t?l(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var i=(t,s,e)=>r(t,typeof s!="symbol"?s+"":s,e);import{addCssClass as n,removeCssClass as d,createElement as c,setInnerHtml as h,appendChildElement as p,addEventListener as o}from"../node_modules/mibreit-dom-tools/lib/index.js";import _ from"../images/close.svg.js";import a from"./ImageDescription.module.css.js";class b{constructor(s){i(this,"_changedCallbacks",[]);i(this,"_descriptionHandle");this._descriptionHandle=s,n(this._descriptionHandle,a.img_description);const e=this._createCloseButton(s);this._setupCloseButtonHandler(e)}show(){n(this._descriptionHandle,a.visible),this._changedCallbacks.forEach(s=>{s(!0)})}hide(){d(this._descriptionHandle,a.visible),this._changedCallbacks.forEach(s=>{s(!1)})}addChangedCallback(s){this._changedCallbacks.includes(s)||this._changedCallbacks.push(s)}_createCloseButton(s){const e=c("div");return h(e,_),n(e,a.img_description__exit_btn),p(e,s),e}_setupCloseButtonHandler(s){o(s,"pointerdown",e=>{e.stopPropagation()}),o(s,"pointerup",e=>{e.stopPropagation(),this.hide()})}}export{b as default};
