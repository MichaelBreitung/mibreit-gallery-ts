var _=Object.defineProperty;var S=(n,t,r)=>t in n?_(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var s=(n,t,r)=>S(n,typeof t!="symbol"?t+"":t,r);import{addCssClass as o,getChildNodes as d,createElement as m,wrapElements as C,getRootFontSize as T,getElementDimension as z,setInnerHtml as l,prependChildElement as g,appendChildElement as p,addCssStyle as c}from"../node_modules/mibreit-dom-tools/lib/index.js";import u from"./ThumbScrollerLayout.module.css.js";import a from"../images/nextThumbs.svg.js";class x{constructor(t,r,i){s(this,"_scrollerContainer");s(this,"_previousButton");s(this,"_nextButton");s(this,"_thumbSizeRem");s(this,"_thumbStages");s(this,"_numberOfVisibleThumbs");o(t,u.mibreit_ThumbScrollerParentContainer),this._numberOfVisibleThumbs=i,this._thumbStages=r;const e=i>=r.length;this._scrollerContainer=this._createScrollerContainer(t,e);const[h,b]=this._createScrollerButtons(t,e);this._previousButton=h,this._nextButton=b,this._thumbSizeRem=this._calculateThumbsize(this._scrollerContainer,i),this._resizeThumbStages(this._thumbSizeRem)}reinitSize(){this._thumbSizeRem=this._calculateThumbsize(this._scrollerContainer,this._numberOfVisibleThumbs),this._resizeThumbStages(this._thumbSizeRem)}getThumbSizeRem(){return this._thumbSizeRem}getNumberOfVisibleThumbs(){return this._numberOfVisibleThumbs}getNumberOfThumbs(){return this._thumbStages.length}getThumbScrollerButtons(){return{previousButton:this._previousButton,nextButton:this._nextButton}}getScrollerContainer(){return this._scrollerContainer}_createScrollerContainer(t,r){const i=d(t),e=m("div");return r?o(e,u.mibreit_ThumbScrollerContainerCentered):o(e,u.mibreit_ThumbScrollerContainer),C(i,e),e}_calculateThumbsize(t,r){const i=T();return z(t).width/i/r}_createScrollerButtons(t,r){const i=m("div");l(i,a),o(i,u.mibreit_ThumbScrollerPrevious),g(i,t);const e=m("div");return l(e,a),o(e,u.mibreit_ThumbScrollerNext),p(e,t),r&&(c(i,"opacity","0"),c(e,"opacity","0")),[i,e]}_resizeThumbStages(t){const r=t*.9,i=t*.05;this._thumbStages.forEach(e=>{e.setSize(`${r}rem`,`${r}rem`),e.setMargin(`${i}rem`)})}}export{x as default};
