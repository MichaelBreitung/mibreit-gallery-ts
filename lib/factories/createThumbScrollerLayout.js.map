{"version":3,"file":"createThumbScrollerLayout.js","sources":["../../src/factories/createThumbScrollerLayout.ts"],"sourcesContent":["/**\r\n * @author Michael Breitung\r\n * @copyright Michael Breitung Photography (www.mibreit-photo.com)\r\n */\r\n\r\nimport Image from '../components/Image';\r\nimport ThumbStage from '../components/ThumbStage';\r\nimport ThumbScrollerLayout from '../components/ThumbScrollerLayout';\r\nimport IThumbScrollerLayout from '../interfaces/IThumbScrollerLayout';\r\nimport { NUMBER_OF_VISIBLE_THUMBS } from '../constants';\r\n\r\nfunction prepareThumbStages(thumbs: Array<Image>, thumbClickedCallback?: (index: number) => void): Array<ThumbStage> {\r\n  const thumbStages: Array<ThumbStage> = new Array();\r\n  thumbs.forEach((thumb, index) => {\r\n    const thumbStage = new ThumbStage(thumb.getHtmlElement(), thumb.getWidth(), thumb.getHeight());\r\n    thumb.addWasLoadedCallback(() => {\r\n      thumbStage.applyScaleMode();\r\n    });\r\n    thumbStage.showImage();\r\n    if (thumbClickedCallback)\r\n    {\r\n      thumbStage.addStageClickedCallback(() => {\r\n        thumbClickedCallback(index);\r\n      });\r\n    }    \r\n    thumbStages.push(thumbStage);\r\n  });\r\n  return thumbStages;\r\n}\r\n\r\nexport default function (\r\n  container: HTMLElement,\r\n  thumbs: Array<Image>,\r\n  numberOfVisibleThumbs: number = NUMBER_OF_VISIBLE_THUMBS,\r\n  thumbClickedCallback?: (index: number) => void\r\n): IThumbScrollerLayout {\r\n  const thumbStages = prepareThumbStages(thumbs, thumbClickedCallback);\r\n\r\n  return new ThumbScrollerLayout(\r\n    container,\r\n    thumbStages,\r\n    numberOfVisibleThumbs\r\n  );\r\n}\r\n"],"names":["prepareThumbStages","thumbs","thumbClickedCallback","thumbStages","thumb","index","thumbStage","ThumbStage","createThumbScrollerLayout","container","numberOfVisibleThumbs","NUMBER_OF_VISIBLE_THUMBS","ThumbScrollerLayout"],"mappings":"0JAWA,SAASA,EAAmBC,EAAsBC,EAAmE,CAC7G,MAAAC,EAAiC,IAAI,MACpC,OAAAF,EAAA,QAAQ,CAACG,EAAOC,IAAU,CACzB,MAAAC,EAAa,IAAIC,EAAWH,EAAM,eAAA,EAAkBA,EAAM,SAAS,EAAGA,EAAM,UAAW,CAAA,EAC7FA,EAAM,qBAAqB,IAAM,CAC/BE,EAAW,eAAe,CAAA,CAC3B,EACDA,EAAW,UAAU,EACjBJ,GAEFI,EAAW,wBAAwB,IAAM,CACvCJ,EAAqBG,CAAK,CAAA,CAC3B,EAEHF,EAAY,KAAKG,CAAU,CAAA,CAC5B,EACMH,CACT,CAEA,SAAAK,EACEC,EACAR,EACAS,EAAgCC,EAChCT,EACsB,CAChB,MAAAC,EAAcH,EAAmBC,EAAQC,CAAoB,EAEnE,OAAO,IAAIU,EACTH,EACAN,EACAO,CAAA,CAEJ"}