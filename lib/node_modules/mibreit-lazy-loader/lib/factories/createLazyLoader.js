import t from"../components/ElementSurrogate.js";import d from"../components/ScrollLoader.js";import i from"../components/LazyLoader.js";import{checkLazyLoaderConfig as E,ELazyMode as a}from"../types/index.js";async function O(e,o=a.SIMPLE_DEFER,r){if(o!=null)switch(o){case a.WINDOWED_EXTERNAL:await e.loadElement(0),e.setCurrentIndex(0);break;case a.WINDOWED_SCROLL:case a.WINDOWED_SCROLL_HORIZONTAL:new d(e,r).startLoader();break;case a.SIMPLE_DEFER:default:e.loadAll();break}else e.loadAll()}function f(e,o){E(o);let r=e;if(o!=null&&o.useSurrogate){const l=[];if(o.mode===a.WINDOWED_SCROLL||o.mode===a.WINDOWED_SCROLL_HORIZONTAL)for(let L=0;L<e.length;L++){const s=new t(e[L],o.mode===a.WINDOWED_SCROLL_HORIZONTAL);l.push(s)}r=l}const n=new i(e,o.loaderWindowLeft,o.loaderWindowRight);return setTimeout(()=>{O(n,o.mode,r)},0),n}export{f as createLazyLoaderFromElements};
