import{wrapElements as o,removeElement as a,unwrapElements as g,isElementWithinWindow as u,addCssStyle as m,getElementDimension as _,createElement as n,addCssClass as h,appendChildElement as d,overwriteCssStyles as l}from"../node_modules/mibreit-dom-tools/lib/index.js";import p from"./LoadingSpinner.module.css.js";var c=Object.defineProperty,f=(s,e,t)=>e in s?c(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,r=(s,e,t)=>f(s,typeof e!="symbol"?e+"":e,t);class E{constructor(e,t=!1){r(this,"_surrogate"),r(this,"_element"),r(this,"_spinner",null),this._element=e,this._surrogate=this._createSurrogate(t),o([e.getHtmlElement()],this._surrogate),e.addWasLoadedCallback(()=>{this._spinner&&a(this._spinner),g(this._surrogate),a(this._surrogate)})}getWidth(){return this._element.getWidth()}getHeight(){return this._element.getHeight()}getStyle(){return this._element.getStyle()}isElementWithinScrollArea(){return u(this._surrogate)}_resize(e){e&&m(this._surrogate,"width",`${_(this._surrogate).height*this._element.getWidth()/this._element.getHeight()}px`)}_createSurrogate(e=!1){const t=n("div"),i=this._element.getWidth()/this._element.getHeight();return h(t,"mibreit_lazyLoader_surrogate"),this._spinner=n("div"),h(this._spinner,p.spinner),d(this._spinner,t),e?(l(t,`overflow: hidden; height: 100%; width: auto; aspect-ratio: ${i}; flex-shrink:0;`),setTimeout(()=>{this._resize(!0)},0)):l(t,`overflow: hidden; width: 100%; height: auto; aspect-ratio: ${i};`),t}}export{E as default};
