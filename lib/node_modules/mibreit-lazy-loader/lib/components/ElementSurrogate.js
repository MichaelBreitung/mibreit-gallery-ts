import{wrapElements as h,unwrapElements as l,removeElement as n,isElementWithinWindow as g,addCssStyle as o,getElementDimension as i,createElement as m,addCssClass as d,overwriteCssStyles as s}from"../node_modules/mibreit-dom-tools/lib/index.js";var u=Object.defineProperty,_=(r,e,t)=>e in r?u(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,a=(r,e,t)=>_(r,typeof e!="symbol"?e+"":e,t);class f{constructor(e,t=!1){a(this,"_surrogate"),a(this,"_element"),this._element=e,this._surrogate=this._createSurrogate(t),h([e.getHtmlElement()],this._surrogate),e.addWasLoadedCallback(()=>{l(this._surrogate),n(this._surrogate)})}getWidth(){return this._element.getWidth()}getHeight(){return this._element.getHeight()}getStyle(){return this._element.getStyle()}isElementWithinScrollArea(){return g(this._surrogate)}_resize(e){e&&o(this._surrogate,"width",`${i(this._surrogate).height*this._element.getWidth()/this._element.getHeight()}px`)}_createSurrogate(e=!1){const t=m("div");return d(t,"mibreit_lazyLoader_surrogate"),e?(s(t,`overflow: hidden; height: 100%; width: ${i(this._element.getHtmlElement()).height*this._element.getWidth()/this._element.getHeight()}px; flex-shrink:0;`),setTimeout(()=>{this._resize(!0)},0)):s(t,`overflow: hidden; width: 100%; height: 0; padding-bottom: ${this._element.getHeight()*100/this._element.getWidth()}%;`),t}}export{f as default};
