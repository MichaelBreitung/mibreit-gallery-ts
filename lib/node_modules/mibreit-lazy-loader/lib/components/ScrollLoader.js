import{addScrollEventListener as n}from"../node_modules/mibreit-dom-tools/lib/index.js";import l from"../tools/debounce.js";var a=Object.defineProperty,r=(o,e,t)=>e in o?a(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,i=(o,e,t)=>r(o,typeof e!="symbol"?e+"":e,t);const s=400;class m{constructor(e,t){i(this,"_lazyLoader"),i(this,"_elementLocations",[]),this._lazyLoader=e,this._elementLocations=t}startLoader(){this._loadElementsWithinWindowRect();const e=l(()=>{this._loadElementsWithinWindowRect()},s);n(t=>{e()})}_loadElementsWithinWindowRect(){const e=this._lazyLoader.getUnloadedElementIndices();for(let t=0;t<e.length;t++)this._elementLocations[e[t]].isElementWithinScrollArea()&&this._lazyLoader.loadElement(e[t])}}export{m as default};
