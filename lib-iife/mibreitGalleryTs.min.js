var Br=Object.defineProperty;var Mr=(u,y,A)=>y in u?Br(u,y,{enumerable:!0,configurable:!0,writable:!0,value:A}):u[y]=A;var l=(u,y,A)=>Mr(u,typeof y!="symbol"?y+"":y,A);var mibreitGalleryTs=function(u){"use strict";var y=document.createElement("style");y.textContent=`mbg-gallery,mbg-slideshow,mbg-imageswall,mbg-images,mbg-thumbs,mbg-title{position:relative;overflow:hidden;display:block}mbg-imageswall{min-height:100vh}mbg-images,mbg-thumbs{opacity:0;width:100%}mbg-thumbs{margin-top:.5rem}mbg-title{padding:0rem;text-align:center}.mbg__fullscreen{position:fixed;box-sizing:border-box;background-color:#181818;-webkit-transition:background-color .75s ease-in-out;-moz-transition:background-color .75s ease-in-out;-o-transition:background-color .75s ease-in-out;transition:background-color .75s ease-in-out;overflow:hidden;top:0;left:0;padding:1rem;width:100%;height:100%;z-index:100;display:flex;flex-direction:column}.mbg__fullscreen>div>.mbg__img_stage{overflow:visible}.mbg__fullscreen>div>.mbg__img_stage img{-webkit-box-shadow:0px 0px 15px 0px rgba(0,0,0,.5);box-shadow:0 0 15px #00000080}.mbg__fullscreen>.mbg__fullscreen__exit_btn{position:absolute;width:3rem;height:3rem;right:1rem;top:1rem;z-index:3}.mbg__fullscreen>.mbg__fullscreen__exit_btn>svg{opacity:.75}.mbg__hscroller{height:100%;display:flex;flex-direction:row;align-items:center;-webkit-transition:transform .6s ease-in-out;-moz-transition:transform .6s ease-in-out;-o-transition:transform .6s ease-in-out;transition:transform .6s ease-in-out}.mbg__img_stage{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:hidden}.mbg__img_stage img{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.mbg__img_stage__zoom{-webkit-animation:mbg__zoomAnimation 10s linear;-moz-animation:mbg__zoomAnimation 10s linear;-o-animation:mbg__zoomAnimation 10s linear;animation:mbg__zoomAnimation 10s linear}@-webkit-keyframes mbg__zoomAnimation{0%{-webkit-transform:translate(-50%,-50%) scale(1)}to{-webkit-transform:translate(-50%,-50%) scale(1.25)}}@-moz-keyframes mbg__zoomAnimation{0%{-moz-transform:translate(-50%,-50%) scale(1)}to{-moz-transform:translate(-50%,-50%) scale(1.25)}}@-o-keyframes mbg__zoomAnimation{0%{-o-transform:translate(-50%,-50%) scale(1)}to{-o-transform:translate(-50%,-50%) scale(1.25)}}@keyframes mbg__zoomAnimation{0%{transform:translate(-50%,-50%) scale(1)}to{transform:translate(-50%,-50%) scale(1.25)}}.mbg__fade{-webkit-transition:opacity .5s ease-out;-moz-transition:opacity .5s ease-out;-o-transition:opacity .5s ease-out;transition:opacity .5s ease-out}.mbg__transition{-webkit-transition:all .75s ease-out;-moz-transition:all .75s ease-out;-o-transition:all .75s ease-out;transition:all .75s ease-out}.mbg__hidden{opacity:0}.mbg__thumb_stage{margin:.25rem;position:relative;flex-shrink:0;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.5);box-shadow:0 0 5px #00000080;box-sizing:content-box;transition:opacity .5s,transform .5s}.mbg__thumb_stage:hover{transform:scale(1.1)}.mbg__thumbs_viewer{height:100%;width:100%;overflow:hidden;touch-action:pan-y}.mbg__thumbs_viewer__centered{display:flex;justify-content:center;align-items:center}.mbg__img_wall{width:100%;display:flex;gap:1rem;align-items:flex-start}.mbg__img_col{flex:1 1 0;display:flex;flex-direction:column;gap:1rem}.mbg__img_col img{cursor:pointer;display:block;width:100%;height:auto;margin:0;object-fit:contain;opacity:0;transition:opacity .5s,transform .5s}.mbg__img_col img:hover{transform:scale(1.025)}.mbg__img_loaded{opacity:1!important}.mbg__thumbs_scroller__previous_btn,.mbg__thumbs_scroller__next_btn{margin-right:.5rem;margin-left:.5rem}.mbg__thumbs_scroller__previous_btn>svg{transform:scaleX(-1)}.mbg__thumbs_scroller__parent{display:flex;flex-direction:row;align-items:center}.mbg__thumbs_scroller__parent svg{width:3rem;height:3rem;fill:#727f88}.mbg__gallery__fullscreen_btn{position:absolute;z-index:2;width:2rem;height:2rem;right:.25rem;top:.25rem;opacity:0}.mbg__gallery__previous_btn{position:absolute;z-index:2;top:50%;opacity:0}.mbg__gallery__next_btn{position:absolute;z-index:2;top:50%;right:0rem;opacity:0}.mbg__gallery__next_btn>svg{width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}.mbg__gallery__previous_btn>svg{transform:scaleX(-1);width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}.mbg__images_wall__parent{position:relative}
/*$vite$:1*/`,document.head.appendChild(y);function A(){return parseFloat(window.getComputedStyle(document.body).getPropertyValue("font-size"))}function w(r){return document.createElement(r)}function lt(r){return r.cloneNode()}function z(r){r.remove()}function fe(r,e){e.prepend(r)}function T(r,e){e.appendChild(r)}function G(r,e){e.parentElement&&e.parentElement.insertBefore(r,e)}function ot(r){const e=r.childNodes,t=new Array;for(let n=0;n<e.length;++n)t.push(e[n]);return t}function W(r,e){r.innerHTML=e}function ee(r,e){r[0].parentNode&&(r[0].parentNode.insertBefore(e,r[0]),r.forEach(t=>{e.appendChild(t)}))}function te(r){const e=r.getBoundingClientRect();return{width:e.width,height:e.height}}function ht(r){const e=r.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{y:e.top+n,x:e.left+t}}function c(r,e){r.classList.contains(e)||r.classList.add(e)}function H(r,e){r.classList.contains(e)&&r.classList.remove(e)}function m(r,e,t){r.style.setProperty(e,t)}function E(r,e){r.style.removeProperty(e),r.style.length===0&&r.removeAttribute("style")}function mt(r){r.hasAttribute("style")&&r.removeAttribute("style")}function ut(r,e){e==null?mt(r):r.style.cssText=e}function R(r,e){r.addEventListener("click",e)}function we(r){document.addEventListener("keydown",r)}function k(r,e,t){r.addEventListener(e,t)}function ct(r){r.addEventListener("contextmenu",e=>{e.preventDefault()})}function _t(r){r.addEventListener("dragstart",e=>{e.preventDefault()})}function x(r){return document.querySelector(r)}function O(r){return document.querySelectorAll(r)}function ve(r){return r.key}/*! Fast Average Color | Â© 2023 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function dt(r){var e=r.toString(16);return e.length===1?"0"+e:e}function pe(r){return"#"+r.map(dt).join("")}function gt(r){var e=(r[0]*299+r[1]*587+r[2]*114)/1e3;return e<128}function bt(r){return r?ft(r)?r:[r]:[]}function ft(r){return Array.isArray(r[0])}function re(r,e,t){for(var n=0;n<t.length;n++)if(wt(r,e,t[n]))return!0;return!1}function wt(r,e,t){switch(t.length){case 3:if(vt(r,e,t))return!0;break;case 4:if(pt(r,e,t))return!0;break;case 5:if(Et(r,e,t))return!0;break;default:return!1}}function vt(r,e,t){return r[e+3]!==255||r[e]===t[0]&&r[e+1]===t[1]&&r[e+2]===t[2]}function pt(r,e,t){return r[e+3]&&t[3]?r[e]===t[0]&&r[e+1]===t[1]&&r[e+2]===t[2]&&r[e+3]===t[3]:r[e+3]===t[3]}function q(r,e,t){return r>=e-t&&r<=e+t}function Et(r,e,t){var n=t[0],s=t[1],i=t[2],a=t[3],o=t[4],h=r[e+3],d=q(h,a,o);return a?!!(!h&&d||q(r[e],n,o)&&q(r[e+1],s,o)&&q(r[e+2],i,o)&&d):d}var It=24;function yt(r,e,t){for(var n={},s=t.dominantDivider||It,i=t.ignoredColor,a=t.step,o=[0,0,0,0,0],h=0;h<e;h+=a){var d=r[h],_=r[h+1],v=r[h+2],b=r[h+3];if(!(i&&re(r,h,i))){var f=Math.round(d/s)+","+Math.round(_/s)+","+Math.round(v/s);n[f]?n[f]=[n[f][0]+d*b,n[f][1]+_*b,n[f][2]+v*b,n[f][3]+b,n[f][4]+1]:n[f]=[d*b,_*b,v*b,b,1],o[4]<n[f][4]&&(o=n[f])}}var L=o[0],Vr=o[1],Fr=o[2],D=o[3],$r=o[4];return D?[Math.round(L/D),Math.round(Vr/D),Math.round(Fr/D),Math.round(D/$r)]:t.defaultColor}function Ct(r,e,t){for(var n=0,s=0,i=0,a=0,o=0,h=t.ignoredColor,d=t.step,_=0;_<e;_+=d){var v=r[_+3],b=r[_]*v,f=r[_+1]*v,L=r[_+2]*v;h&&re(r,_,h)||(n+=b,s+=f,i+=L,a+=v,o++)}return a?[Math.round(n/a),Math.round(s/a),Math.round(i/a),Math.round(a/o)]:t.defaultColor}function St(r,e,t){for(var n=0,s=0,i=0,a=0,o=0,h=t.ignoredColor,d=t.step,_=0;_<e;_+=d){var v=r[_],b=r[_+1],f=r[_+2],L=r[_+3];h&&re(r,_,h)||(n+=v*v*L,s+=b*b*L,i+=f*f*L,a+=L,o++)}return a?[Math.round(Math.sqrt(n/a)),Math.round(Math.sqrt(s/a)),Math.round(Math.sqrt(i/a)),Math.round(a/o)]:t.defaultColor}function Ee(r){return P(r,"defaultColor",[0,0,0,0])}function P(r,e,t){return r[e]===void 0?t:r[e]}var Ie=10,ne=100;function Lt(r){return r.search(/\.svg(\?|$)/i)!==-1}function Tt(r){if(Ce(r)){var e=r.naturalWidth,t=r.naturalHeight;return!r.naturalWidth&&Lt(r.src)&&(e=t=ne),{width:e,height:t}}return At(r)?{width:r.videoWidth,height:r.videoHeight}:{width:r.width,height:r.height}}function ye(r){return Wt(r)?"canvas":xt(r)?"offscreencanvas":kt(r)?"imagebitmap":r.src}function Ce(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement}var Se=typeof OffscreenCanvas<"u";function xt(r){return Se&&r instanceof OffscreenCanvas}function At(r){return typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement}function Wt(r){return typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement}function kt(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}function Ot(r,e){var t=P(e,"left",0),n=P(e,"top",0),s=P(e,"width",r.width),i=P(e,"height",r.height),a=s,o=i;if(e.mode==="precision")return{srcLeft:t,srcTop:n,srcWidth:s,srcHeight:i,destWidth:a,destHeight:o};var h;return s>i?(h=s/i,a=ne,o=Math.round(a/h)):(h=i/s,o=ne,a=Math.round(o/h)),(a>s||o>i||a<Ie||o<Ie)&&(a=s,o=i),{srcLeft:t,srcTop:n,srcWidth:s,srcHeight:i,destWidth:a,destHeight:o}}var zt=typeof window>"u";function Ht(){return zt?Se?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var Rt="FastAverageColor: ";function C(r){return Error(Rt+r)}function N(r,e){e||console.error(r)}var Pt=function(){function r(){this.canvas=null,this.ctx=null}return r.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(C("call .getColorAsync() without resource"));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(C("resource as string is not supported in this environment"));var n=new Image;return n.crossOrigin=t&&t.crossOrigin||"",n.src=e,this.bindImageEvents(n,t)}else{if(Ce(e)&&!e.complete)return this.bindImageEvents(e,t);var s=this.getColor(e,t);return s.error?Promise.reject(s.error):Promise.resolve(s)}},r.prototype.getColor=function(e,t){t=t||{};var n=Ee(t);if(!e){var s=C("call .getColor() without resource");return N(s,t.silent),this.prepareResult(n,s)}var i=Tt(e),a=Ot(i,t);if(!a.srcWidth||!a.srcHeight||!a.destWidth||!a.destHeight){var s=C('incorrect sizes for resource "'.concat(ye(e),'"'));return N(s,t.silent),this.prepareResult(n,s)}if(!this.canvas&&(this.canvas=Ht(),!this.canvas)){var s=C("OffscreenCanvas is not supported in this browser");return N(s,t.silent),this.prepareResult(n,s)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var s=C("Canvas Context 2D is not supported in this browser");return N(s,t.silent),this.prepareResult(n)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=a.destWidth,this.canvas.height=a.destHeight;try{this.ctx.clearRect(0,0,a.destWidth,a.destHeight),this.ctx.drawImage(e,a.srcLeft,a.srcTop,a.srcWidth,a.srcHeight,0,0,a.destWidth,a.destHeight);var o=this.ctx.getImageData(0,0,a.destWidth,a.destHeight).data;return this.prepareResult(this.getColorFromArray4(o,t))}catch(h){var s=C("security error (CORS) for resource ".concat(ye(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return N(s,t.silent),!t.silent&&console.error(h),this.prepareResult(n,s)}},r.prototype.getColorFromArray4=function(e,t){t=t||{};var n=4,s=e.length,i=Ee(t);if(s<n)return i;var a=s-s%n,o=(t.step||1)*n,h;switch(t.algorithm||"sqrt"){case"simple":h=Ct;break;case"sqrt":h=St;break;case"dominant":h=yt;break;default:throw C("".concat(t.algorithm," is unknown algorithm"))}return h(e,a,{defaultColor:i,ignoredColor:bt(t.ignoredColor),step:o,dominantDivider:t.dominantDivider})},r.prototype.prepareResult=function(e,t){var n=e.slice(0,3),s=[e[0],e[1],e[2],e[3]/255],i=gt(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+n.join(",")+")",rgba:"rgba("+s.join(",")+")",hex:pe(n),hexa:pe(e),isDark:i,isLight:!i,error:t}},r.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},r.prototype.bindImageEvents=function(e,t){var n=this;return new Promise(function(s,i){var a=function(){d();var _=n.getColor(e,t);_.error?i(_.error):s(_)},o=function(){d(),i(C('Error loading image "'.concat(e.src,'"')))},h=function(){d(),i(C('Image "'.concat(e.src,'" loading aborted')))},d=function(){e.removeEventListener("load",a),e.removeEventListener("error",o),e.removeEventListener("abort",h)};e.addEventListener("load",a),e.addEventListener("error",o),e.addEventListener("abort",h)})},r}();function Nt(r){return document.createElement(r)}function Vt(r){r.remove()}function Ft(r,e){r[0].parentNode&&(r[0].parentNode.insertBefore(e,r[0]),r.forEach(t=>{e.appendChild(t)}))}function $t(r){r.parentNode&&r.childNodes.forEach(e=>{r.parentNode.insertBefore(e,r)})}function Le(r){const e=r.getBoundingClientRect();return{width:e.width,height:e.height}}function Te(r){const e=r.getBoundingClientRect(),t=window.innerHeight,n=window.innerWidth;return e.top+e.height>0&&e.top<t&&e.left+e.width>0&&e.left<n}function Bt(r){return V(r,"class")}function xe(r,e){r.classList.contains(e)||r.classList.add(e)}function Ae(r,e){r.classList.contains(e)&&r.classList.remove(e)}function We(r,e,t){r.style.setProperty(e,t)}function Mt(r,e){r.style.removeProperty(e),r.style.length===0&&r.removeAttribute("style")}function Dt(r){r.hasAttribute("style")&&r.removeAttribute("style")}function ke(r,e){e==null?Dt(r):r.style.cssText=e}function V(r,e){return r.hasAttribute(e)?r.getAttribute(e):null}function Gt(r,e,t){r.setAttribute(e,t)}function qt(r,e){r.removeAttribute(e)}function Zt(r){document.addEventListener("scroll",r)}var jt=Object.defineProperty,Xt=(r,e,t)=>e in r?jt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Z=(r,e,t)=>Xt(r,typeof e!="symbol"?e+"":e,t);const Oe="mbll__marker",ze="mbll__transition",He="data-src",Ut="src";class Yt{constructor(e){Z(this,"_element"),Z(this,"_state",0),Z(this,"_wasLoadedCallbacks",new Array),Z(this,"_dataSrc",null);var t;this._element=e,this._dataSrc=V(e,He);const n=(t=Bt(e))==null?void 0:t.split(",");this._dataSrc||n&&n.includes(Oe)?(this._state=0,this._setBaseStyle()):this._state=2}load(){return new Promise((e,t)=>{this._state==0?(this._element.onload=()=>{this._finishLoad(),e(!0)},this._triggerLoad(),this._state=1,this._setLoadingStyle(),this._element instanceof HTMLImageElement&&this._element.complete&&(this._element.onload=null,this._finishLoad(),e(!0))):this._state===1?t(!1):t(!0)})}wasLoaded(){return this._state===2}addWasLoadedCallback(e){this._wasLoadedCallbacks.includes(e)||this._wasLoadedCallbacks.push(e)}_triggerLoad(){this._dataSrc&&Gt(this._element,Ut,this._dataSrc),Ae(this._element,Oe)}_finishLoad(){qt(this._element,He),this._state=2,this._wasLoadedCallbacks.forEach(e=>{e()}),setTimeout(()=>{this._setLoadedStyle()},50)}_setBaseStyle(){We(this._element,"opacity","0")}_setLoadingStyle(){xe(this._element,ze)}_setLoadedStyle(){Mt(this._element,"opacity"),setTimeout(()=>{Ae(this._element,ze)},1e3)}}var Kt=Object.defineProperty,Jt=(r,e,t)=>e in r?Kt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,j=(r,e,t)=>Jt(r,typeof e!="symbol"?e+"":e,t);class Qt{constructor(e){j(this,"_element"),j(this,"_width"),j(this,"_height"),j(this,"_originalElementStyle");const t=V(e,"width"),n=V(e,"height");if(t==null||n==null)throw new Error("ElementInfo#constructor - supported elements need a width and height property");const s=V(e,"class");this._element=e,this._originalElementStyle=s||"",this._width=parseInt(t),this._height=parseInt(n)}getWidth(){return this._width}getHeight(){return this._height}getStyle(){return this._originalElementStyle}isElementWithinScrollArea(){return Te(this._element)}}var er=Object.defineProperty,tr=(r,e,t)=>e in r?er(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rr=(r,e,t)=>tr(r,e+"",t);class nr extends Yt{constructor(e){super(e),rr(this,"_elementInfo"),this._elementInfo=new Qt(this._element)}getHtmlElement(){return this._element}getWidth(){return this._elementInfo.getWidth()}getHeight(){return this._elementInfo.getHeight()}getStyle(){return this._elementInfo.getStyle()}isElementWithinScrollArea(){return this._elementInfo.isElementWithinScrollArea()}}var sr=Object.defineProperty,ir=(r,e,t)=>e in r?sr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Re=(r,e,t)=>ir(r,typeof e!="symbol"?e+"":e,t);class ar{constructor(e,t=!1){Re(this,"_surrogate"),Re(this,"_element"),this._element=e,this._surrogate=this._createSurrogate(t),Ft([e.getHtmlElement()],this._surrogate),e.addWasLoadedCallback(()=>{$t(this._surrogate),Vt(this._surrogate)})}getWidth(){return this._element.getWidth()}getHeight(){return this._element.getHeight()}getStyle(){return this._element.getStyle()}isElementWithinScrollArea(){return Te(this._surrogate)}_resize(e){e&&We(this._surrogate,"width",`${Le(this._surrogate).height*this._element.getWidth()/this._element.getHeight()}px`)}_createSurrogate(e=!1){const t=Nt("div");return xe(t,"mibreit_lazyLoader_surrogate"),e?(ke(t,`overflow: hidden; height: 100%; width: ${Le(this._element.getHtmlElement()).height*this._element.getWidth()/this._element.getHeight()}px; flex-shrink:0;`),setTimeout(()=>{this._resize(!0)},0)):ke(t,`overflow: hidden; width: 100%; height: 0; padding-bottom: ${this._element.getHeight()*100/this._element.getWidth()}%;`),t}}function lr(r,e){let t;return function(){const n=()=>{clearTimeout(t),r()};clearTimeout(t),t=window.setTimeout(n,e)}}var or=Object.defineProperty,hr=(r,e,t)=>e in r?or(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pe=(r,e,t)=>hr(r,typeof e!="symbol"?e+"":e,t);const mr=400;class ur{constructor(e,t){Pe(this,"_lazyLoader"),Pe(this,"_elementLocations",[]),this._lazyLoader=e,this._elementLocations=t}startLoader(){this._loadElementsWithinWindowRect();const e=lr(()=>{this._loadElementsWithinWindowRect()},mr);Zt(t=>{e()})}_loadElementsWithinWindowRect(){const e=this._lazyLoader.getUnloadedElementIndices();for(let t=0;t<e.length;t++)this._elementLocations[e[t]].isElementWithinScrollArea()&&this._lazyLoader.loadElement(e[t])}}var cr=Object.defineProperty,_r=(r,e,t)=>e in r?cr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,F=(r,e,t)=>_r(r,typeof e!="symbol"?e+"":e,t);let se=class{constructor(e,t=0,n=1){F(this,"_currentIndex"),F(this,"_loaderWindowLeft"),F(this,"_loaderWindowRight"),F(this,"_unloadedElementIndices",[]),F(this,"_elementLoaders"),this._currentIndex=-1,this._elementLoaders=e,this._loaderWindowLeft=t,this._loaderWindowRight=n,this._updateUnloadedElementIndices()}async loadAll(){await this._loadElements(0,this._elementLoaders.length)}async setCurrentIndex(e){this._currentIndex!=e&&(this._currentIndex=e,await this._moveWindow())}async loadElement(e){if(e>=0&&e<this._elementLoaders.length){let t=!1;if(!this._unloadedElementIndices.includes(e))t=!0;else try{if(t=await this._elementLoaders[e].load(),t){const n=this._unloadedElementIndices.indexOf(e);n>-1&&this._unloadedElementIndices.splice(n,1)}}catch(n){t=n}return t}else throw new Error(`Preloader#loadElement -> invalid Index ${e}`)}getElementLoaderInfos(){return this._elementLoaders}getUnloadedElementIndices(){return this._unloadedElementIndices}async _moveWindow(){if(this._unloadedElementIndices.length){let e=this._currentIndex-this._loaderWindowLeft,t=this._currentIndex+1+this._loaderWindowRight;await this._loadElements(this._currentIndex,t<this._elementLoaders.length?t:this._elementLoaders.length),await this._loadElements(e>=0?e:0,this._currentIndex),e<0&&(e=this._elementLoaders.length+e,await this._loadElements(e,this._elementLoaders.length)),t>=this._elementLoaders.length&&(t=t-this._elementLoaders.length,await this._loadElements(0,t))}}async _loadElements(e,t){for(let n=e<0?0:e;n<t&&n<this._elementLoaders.length;n++)await this.loadElement(n)}_updateUnloadedElementIndices(){for(let e=0;e<this._elementLoaders.length;e++)this._elementLoaders[e].wasLoaded()||this._unloadedElementIndices.push(e)}};var S=(r=>(r[r.SIMPLE_DEFER=0]="SIMPLE_DEFER",r[r.WINDOWED_EXTERNAL=1]="WINDOWED_EXTERNAL",r[r.WINDOWED_SCROLL=2]="WINDOWED_SCROLL",r[r.WINDOWED_SCROLL_HORIZONTAL=3]="WINDOWED_SCROLL_HORIZONTAL",r))(S||{});function dr(r){if(typeof r.loaderWindowRight<"u"&&(typeof r.loaderWindowRight!="number"||r.loaderWindowRight<0))throw new Error("checkLazyLoaderConfig - loaderWindowRight of config must be a number");if(typeof r.loaderWindowLeft<"u"&&(typeof r.loaderWindowLeft!="number"||r.loaderWindowLeft<0))throw new Error("checkLazyLoaderConfig - loaderWindowLeft of config must be a number");if(typeof r.mode<"u"&&(typeof r.mode!="number"||r.mode<0||r.mode>3))throw new Error("checkLazyLoaderConfig - mode of config must be a number (0, 1, 2, 3) - use type ELazyMode")}async function gr(r,e=S.SIMPLE_DEFER,t){if(e!=null)switch(e){case S.WINDOWED_EXTERNAL:await r.loadElement(0),r.setCurrentIndex(0);break;case S.WINDOWED_SCROLL:case S.WINDOWED_SCROLL_HORIZONTAL:new ur(r,t).startLoader();break;case S.SIMPLE_DEFER:default:r.loadAll();break}else r.loadAll()}function br(r,e){dr(e);let t=r;if(e!=null&&e.useSurrogate){const s=[];if(e.mode===S.WINDOWED_SCROLL||e.mode===S.WINDOWED_SCROLL_HORIZONTAL)for(let i=0;i<r.length;i++){const a=new ar(r[i],e.mode===S.WINDOWED_SCROLL_HORIZONTAL);s.push(a)}t=s}const n=new se(r,e.loaderWindowLeft,e.loaderWindowRight);return setTimeout(()=>{gr(n,e.mode,t)},0),n}const Ne={fullscreen:"mbg__fullscreen",fullscreen__exit_btn:"mbg__fullscreen__exit_btn"},fr='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';class Ve{constructor(e,t=null,n=!0){l(this,"_changedCallbacks",[]);l(this,"_active");l(this,"_slideshowContainerElement");l(this,"_thumbsContainerElement",null);l(this,"_fullScreenContainerElement");l(this,"_slideshowContainerPlaceholderElement");l(this,"_thumbsContainerPlaceholderElement",null);l(this,"_closeButtonElement");l(this,"_usePlaceholder");this._active=!1,this._slideshowContainerElement=e,this._thumbsContainerElement=t,this._usePlaceholder=n,this._fullScreenContainerElement=this._createFullscreenContainer(),this._closeButtonElement=this._createFullscreenCloseButton(this._fullScreenContainerElement),this._slideshowContainerPlaceholderElement=this._createSlideshowContainerPlaceholder(),t&&(this._thumbsContainerPlaceholderElement=this._createThumbsContainerPlaceholder())}activate(){this._active||(this._moveGalleryToFullscreen(),this._moveThumbsToFullscreen(),this._addFullscreen(),this._setupCloseButtonHandler(),this._active=!0,this._changedCallbacks.forEach(e=>{e(!0)}))}deActivate(){this._active&&(this._removeGalleryFromFullscreen(),this._removeThumbsFromFullscreen(),this._removeFullscreen(),this._active=!1,this._changedCallbacks.forEach(e=>{e(!1)}))}addChangedCallback(e){this._changedCallbacks.includes(e)||this._changedCallbacks.push(e)}isActive(){return this._active}setBackgroundColor(e){m(this._fullScreenContainerElement,"background-color",e)}_createFullscreenContainer(){const e=w("div");return c(e,Ne.fullscreen),e}_createFullscreenCloseButton(e){const t=w("div");return W(t,fr),c(t,Ne.fullscreen__exit_btn),T(t,e),t}_createSlideshowContainerPlaceholder(){return w("div")}_createThumbsContainerPlaceholder(){return w("div")}_addFullscreen(){const e=x("body");e!=null&&T(this._fullScreenContainerElement,e)}_removeFullscreen(){z(this._fullScreenContainerElement)}_moveGalleryToFullscreen(){this._usePlaceholder&&G(this._slideshowContainerPlaceholderElement,this._slideshowContainerElement),T(this._slideshowContainerElement,this._fullScreenContainerElement),m(this._slideshowContainerElement,"width","100%"),m(this._slideshowContainerElement,"flex-grow","1")}_removeGalleryFromFullscreen(){z(this._slideshowContainerElement),this._usePlaceholder&&(G(this._slideshowContainerElement,this._slideshowContainerPlaceholderElement),z(this._slideshowContainerPlaceholderElement)),E(this._slideshowContainerElement,"width"),E(this._slideshowContainerElement,"flex-grow")}_moveThumbsToFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(this._usePlaceholder&&G(this._thumbsContainerPlaceholderElement,this._thumbsContainerElement),T(this._thumbsContainerElement,this._fullScreenContainerElement),m(this._thumbsContainerElement,"flex-grow","0"))}_removeThumbsFromFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(z(this._thumbsContainerElement),this._usePlaceholder&&(G(this._thumbsContainerElement,this._thumbsContainerPlaceholderElement),z(this._thumbsContainerPlaceholderElement)),E(this._thumbsContainerElement,"flex-grow"))}_setupCloseButtonHandler(){R(this._closeButtonElement,e=>{e==null||e.stopPropagation(),this._active&&this.deActivate()})}}const wr={hscroller:"mbg__hscroller"};class Fe{constructor(e){l(this,"_scroller");this._scroller=this._createScroller(e)}scrollTo(e,t=!1){let n;return t?n=`${e}rem`:n=`${e}px`,m(this._scroller,"transform",`translate(${n})`),!0}_createScroller(e){const t=w("div");return c(t,wr.hscroller),ee(e,t),t}}const $e="title",vr="alt",Be="data-title",pr=1,Er=0,Ir=7,yr=.5;let X=class extends nr{constructor(t){super(t);l(this,"_title","");l(this,"_description","");this._prepareTitle(t),this._prepareDescription(t),this._limitMaxSizeTo(t,this.getWidth(),this.getHeight()),ct(t),_t(t)}getTitle(){return this._title}getDescription(){return this._description}getUrl(){return this._element.hasAttribute("data-src")?this._element.getAttribute("data-src"):this._element.getAttribute("src")}_limitMaxSizeTo(t,n,s){ut(t,`max-width: ${n}px; max-height: ${s}px`)}_prepareTitle(t){let n=t.getAttribute($e);n?(t.setAttribute(Be,n),t.removeAttribute($e)):n=t.getAttribute(Be),this._title=n??""}_prepareDescription(t){let n=t.getAttribute(vr);this._description=n??""}};const ie={img_stage:"mbg__img_stage",img_stage__zoom:"mbg__img_stage__zoom"},p={fade:"mbg__fade",transition:"mbg__transition"},Me=50,Cr=700;var g=(r=>(r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r))(g||{});class ae{constructor(e,t){l(this,"_callback");l(this,"_touchStartTime",null);l(this,"_touchStartPosition",null);l(this,"_touchStart",e=>{this._touchStartTime=Date.now(),this._touchStartPosition=this._getTouchPosition(e)});l(this,"_touchEnd",e=>{if(this._touchStartTime&&this._touchStartPosition&&Date.now()-this._touchStartTime<Cr){const t=this._getTouchPosition(e),n=this._detectDirection(this._touchStartPosition,t);this._callback(n,t)}this._touchStartPosition=null,this._touchStartTime=null});this._callback=t,k(e,"pointerdown",this._touchStart),k(e,"pointerup",this._touchEnd)}_getTouchPosition(e){return{x:e.pageX,y:e.pageY}}_detectDirection(e,t){const n=e.x-t.x;return n>Me?2:n<-Me?1:0}}const U=async function(){return new Promise((r,e)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})})},Sr=1e3;class ${constructor(e){l(this,"_zoomAnimationActive",!1);l(this,"_imageStage");l(this,"_imageHandle");this._imageHandle=e,this._imageStage=this._createStage(),new ResizeObserver(()=>{this.reinitSize()}).observe(this._imageStage)}setZoomAnimation(e){this._zoomAnimationActive=e}reinitSize(){const e=te(this._imageStage);this._applyScaleModeImpl(e.width,e.height)}async hideImage(e=g.NONE){setTimeout(()=>{this._resetZoom()},Sr),await U(),e==g.RIGHT?(c(this._imageStage,p.transition),m(this._imageStage,"left","-100%")):e==g.LEFT&&(c(this._imageStage,p.transition),m(this._imageStage,"left","100%")),E(this._imageStage,"opacity")}async showImage(e=g.NONE){e===g.NONE&&this._zoomAnimationActive&&this._startZoomAnimation(),await U(),e===g.RIGHT?(H(this._imageStage,p.transition),m(this._imageStage,"left","100%"),await U(),c(this._imageStage,p.transition),E(this._imageStage,"left")):e===g.LEFT?(H(this._imageStage,p.transition),m(this._imageStage,"left","-100%"),await U(),c(this._imageStage,p.transition),E(this._imageStage,"left")):(H(this._imageStage,p.transition),E(this._imageStage,"left")),m(this._imageStage,"opacity","1")}_createStage(){const e=w("div");return c(e,ie.img_stage),c(e,p.fade),ee([this._imageHandle],e),e}_startZoomAnimation(){c(this._imageHandle,ie.img_stage__zoom)}_resetZoom(){H(this._imageHandle,ie.img_stage__zoom)}}class le extends ${constructor(t,n,s){super(t);l(this,"_imageWidth");l(this,"_imageHeight");this._imageWidth=n,this._imageHeight=s}_applyScaleModeImpl(t,n){const s=this._imageWidth/this._imageHeight;let i="auto",a="auto";t/n>s?i="100%":a="100%",m(this._imageHandle,"width",i),m(this._imageHandle,"height",a)}}class De extends ${constructor(t,n,s){super(t);l(this,"_imageWidth");l(this,"_imageHeight");this._imageWidth=n,this._imageHeight=s}_applyScaleModeImpl(t,n){const s=this._imageWidth/this._imageHeight;let i="auto",a="auto";t/n>s?n<=this._imageHeight&&(a="100%"):t<=this._imageWidth&&(i="100%"),m(this._imageHandle,"width",i),m(this._imageHandle,"height",a)}}class Ge extends ${constructor(e){super(e)}_applyScaleModeImpl(e,t){E(this._imageHandle,"width"),E(this._imageHandle,"height")}}class qe extends ${constructor(e){super(e)}_applyScaleModeImpl(e,t){m(this._imageHandle,"width","100%"),m(this._imageHandle,"height","100%")}}var I=(r=>(r[r.NONE=0]="NONE",r[r.FIT_ASPECT=1]="FIT_ASPECT",r[r.STRETCH=2]="STRETCH",r[r.EXPAND=3]="EXPAND",r))(I||{});function Ze(r){if(typeof r.numberOfVisibleThumbs<"u"&&(typeof r.numberOfVisibleThumbs!="number"||r.numberOfVisibleThumbs<1))throw new Error("checkThumbScrollerConfig - numberOfVisibleThumbs is invalid number");if(typeof r.initialIndex<"u"&&(typeof r.initialIndex!="number"||r.initialIndex<0))throw new Error("checkThumbScrollerConfig - config initialIndex should be of type number")}function oe(r){if(typeof r.scaleMode<"u"&&(typeof r.scaleMode!="number"||r.scaleMode<0||r.scaleMode>3))throw new Error("checkSlideshowConfig - config scaleMode should be of type EImageScaleMode (number 0 - 3)");if(typeof r.interval<"u"&&(typeof r.interval!="number"||r.interval<1e3))throw new Error("checkSlideshowConfig - config interval should be of type number and larger than 1000");if(typeof r.zoom<"u"&&typeof r.zoom!="boolean")throw new Error("checkSlideshowConfig - config zoom should be of type boolean");if(typeof r.loaderWindowRight<"u"&&(typeof r.loaderWindowRight!="number"||r.loaderWindowRight<0))throw new Error("checkSlideshowConfig - config loaderWindowRight should be of type number");if(typeof r.loaderWindowLeft<"u"&&(typeof r.loaderWindowLeft!="number"||r.loaderWindowLeft<0))throw new Error("checkSlideshowConfig - config loaderWindowLeft should be of type number")}function Lr(r){if(oe(r),Ze(r),typeof r.thumbContainerSelector<"u"&&typeof r.thumbContainerSelector!="string")throw new Error("checkGalleryConfig - invalid thumbContainerSelector");if(typeof r.thumbSelector<"u"&&typeof r.thumbSelector!="string")throw new Error("checkGalleryConfig - invalid thumbSelector");if(typeof r.initialImageNr<"u"&&(typeof r.initialImageNr!="number"||r.initialImageNr<0))throw new Error("checkGalleryConfig - invalid initialImageNr")}const Tr=new RegExp("^#([A-Fa-f0-9]{8})$");function xr(r){if(typeof r.backgroundColor<"u"&&typeof r.backgroundColor!="string")throw new Error("checkFullscreenConfig - invalid backgroundColor");if(typeof r.backgroundColor=="string"&&!Tr.test(r.backgroundColor))throw new Error("checkFullscreenConfig - invalid backgroundColor - only RGBA hex allowed");if(typeof r.useAverageBackgroundColor<"u"&&typeof r.useAverageBackgroundColor!="boolean")throw new Error("checkFullscreenConfig - invalid useAverageBackgroundColor")}const je={hidden:"mbg__hidden"};class Xe{constructor(e,t,n=I.FIT_ASPECT){l(this,"_currentIndex",-1);l(this,"_delayedNewIndex",-1);l(this,"_imageStages",[]);l(this,"_images");l(this,"_lazyLoader");l(this,"_imageChangedCallbacks",new Array);this._images=e,e.forEach(s=>{c(s.getHtmlElement(),je.hidden)}),this._lazyLoader=t,this._prepareImageStages(e,n)}showImage(e){return this._showImage(e)}showNextImage(e){const t=this._currentIndex<this._imageStages.length-1?this._currentIndex+1:0;return this._showImage(t,e)}showPreviousImage(e){const t=this._currentIndex>0?this._currentIndex-1:this._imageStages.length-1;return this._showImage(t,e)}getNumberOfImages(){return this._imageStages.length}setZoomAnimation(e){this._imageStages.forEach(t=>{t.setZoomAnimation(e)})}addImageChangedCallback(e){this._imageChangedCallbacks.includes(e)||this._imageChangedCallbacks.push(e)}getImageIndex(){return this._currentIndex}getImageInfo(e){return this._isValidIndex(e)?this._images[e]:null}getImageElement(e){return this._isValidIndex(e)?this._images[e].getHtmlElement():null}_showImage(e,t=g.NONE){return this._isValidIndex(e)?(e!=this._currentIndex&&(H(this._images[e].getHtmlElement(),je.hidden),this._lazyLoader.setCurrentIndex(e),this._images[e].wasLoaded()?(this._hideImage(this._currentIndex,t),this._changeCurrentImage(e,t)):(this._delayedNewIndex=e,this._images[e].addWasLoadedCallback(()=>{e===this._delayedNewIndex&&(this._hideImage(this._currentIndex,t),this._changeCurrentImage(this._delayedNewIndex,t))}))),!0):!1}_hideImage(e,t=g.NONE){this._isValidIndex(e)&&this._imageStages[this._currentIndex].hideImage(t)}_prepareImageStages(e,t){e.forEach(n=>{const s=this._createImageStage(n.getHtmlElement(),n.getWidth(),n.getHeight(),t);n.addWasLoadedCallback(()=>{s.reinitSize()}),this._imageStages.push(s)})}_createImageStage(e,t,n,s=I.FIT_ASPECT){switch(s){case I.EXPAND:return new le(e,t,n);case I.FIT_ASPECT:return new De(e,t,n);case I.STRETCH:return new qe(e);case I.NONE:default:return new Ge(e)}}_isValidIndex(e){return e>=0&&e<this._imageStages.length}_changeCurrentImage(e,t=g.NONE){this._currentIndex=e,this._imageStages[this._currentIndex].showImage(t),this._imageChangedCallbacks.forEach(n=>{n(this._currentIndex,this._images[this._currentIndex])})}}const Ar={thumb_stage:"mbg__thumb_stage"};class Ue extends le{constructor(e,t,n){super(e,t,n),c(this._imageStage,Ar.thumb_stage)}addStageClickedCallback(e){R(this._imageStage,e)}}const Ye={thumbs_viewer:"mbg__thumbs_viewer",thumbs_viewer__centered:"mbg__thumbs_viewer__centered"};class Ke{constructor(e,t){l(this,"_scroller",null);l(this,"_wrapperElement");l(this,"_thumbElements");l(this,"_thumbSizeRem");l(this,"_numberOfVisibleThumbs");l(this,"_scrollIndexChangedCallbacks",new Array);l(this,"_currentScrollIndex",0);this._numberOfVisibleThumbs=t,this._thumbElements=Array.from(e.children),this._wrapperElement=this._wrapThumbs(ot(e)),this._thumbSizeRem=this._calculateThumbsize(),this._resizeThumbs(),this._numberOfVisibleThumbs<this._thumbElements.length&&(this._scroller=new Fe(this._thumbElements)),new ResizeObserver(()=>{this._reinitSize()}).observe(this._wrapperElement)}setCenterThumb(e,t=!0){if(this._scroller){let n=e;t&&(n-=Math.floor(this._numberOfVisibleThumbs/2));const s=this._normalizeIndex(n);this._currentScrollIndex=s;const i=-s*this._thumbSizeRem;this._scroller.scrollTo(i,!0),this._scrollIndexChangedCallbacks.forEach(a=>{a(this._currentScrollIndex)})}}scrollNext(){let e=this._currentScrollIndex+this._numberOfVisibleThumbs;const t=this._thumbElements.length-this._numberOfVisibleThumbs;this._currentScrollIndex===t?e=0:e>=t&&(e=t),this.setCenterThumb(e,!1)}scrollPrevious(){let e=this._currentScrollIndex-this._numberOfVisibleThumbs;const t=this._thumbElements.length-this._numberOfVisibleThumbs;this._currentScrollIndex===0?e=t:e<0&&(e=0),this.setCenterThumb(e,!1)}addScrollIndexChangedCallback(e){this._scrollIndexChangedCallbacks.includes(e)||this._scrollIndexChangedCallbacks.push(e)}_reinitSize(){this._thumbSizeRem=this._calculateThumbsize(),this._resizeThumbs(),this.setCenterThumb(this._currentScrollIndex,!1)}_normalizeIndex(e){const t=this._thumbElements.length-this._numberOfVisibleThumbs;return e>=t?t:e<0?0:e}_wrapThumbs(e){const t=w("div");return c(t,Ye.thumbs_viewer),this._numberOfVisibleThumbs>=this._thumbElements.length&&c(t,Ye.thumbs_viewer__centered),ee(e,t),t}_calculateThumbsize(){const e=A();return te(this._wrapperElement).width/e/this._numberOfVisibleThumbs}_resizeThumbs(){const e=this._thumbSizeRem*.9,t=this._thumbSizeRem*.05;for(let n=0;n<this._thumbElements.length;++n)m(this._thumbElements[n],"width",`${e}rem`),m(this._thumbElements[n],"height",`${e}rem`),m(this._thumbElements[n],"margin-left",`${t}rem`),m(this._thumbElements[n],"margin-right",`${t}rem`);m(this._wrapperElement,"height",`${this._thumbSizeRem*1.1}rem`)}}const he={img_wall:"mbg__img_wall",img_col:"mbg__img_col",img_loaded:"mbg__img_loaded"};class Je{constructor(e,t=3){l(this,"_wall");l(this,"_columnFillState",[]);l(this,"_waitForDecoded",async e=>{const t=()=>{c(e,he.img_loaded)};try{typeof e.decode=="function"?await e.decode():e.naturalWidth===0&&await new Promise(n=>setTimeout(n,50))}catch{}finally{requestAnimationFrame(t)}});this._wall=this._createWall(e,t)}get element(){return this._wall}_createWall(e,t){const n=w("div");c(n,he.img_wall);const s=[];for(let i=0;i<t;i++){const a=w("div");c(a,he.img_col),n.appendChild(a),s.push(a)}return e.forEach((i,a)=>{let o=a%s.length;a>=t&&(o=this._getShortestColumnIndex());const h=s[o];this._updateColumnHeight(o,i.getHeight());const d=i.getHtmlElement();h.appendChild(d),i.addWasLoadedCallback(()=>{this._waitForDecoded(d)}),i.wasLoaded()&&this._waitForDecoded(d)}),n}_getShortestColumnIndex(){let e=0,t=this._columnFillState[0]||0;for(let n=1;n<this._columnFillState.length;n++){const s=this._columnFillState[n]||0;s<t&&(t=s,e=n)}return e}_updateColumnHeight(e,t){this._columnFillState[e]||(this._columnFillState[e]=0),this._columnFillState[e]+=t}}class Wr{constructor(e,t,n,s){l(this,"_imageViewer");l(this,"_loader");l(this,"_fullscreenContainer",null);l(this,"_thumbsViewer",null);this._imageViewer=e,this._loader=t,this._thumbsViewer=n,this._fullscreenContainer=s}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}getThumbsViewer(){return this._thumbsViewer}getFullscreen(){return this._fullscreenContainer}}class kr{constructor(e,t){l(this,"_imageViewer");l(this,"_loader");this._imageViewer=e,this._loader=t}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}}class me{constructor(e,t){l(this,"_imageViewer");l(this,"_lazyLoader");const n=this._createImagesArray(e);this._lazyLoader=this._createLoader(n,t==null?void 0:t.loaderWindowLeft,t==null?void 0:t.loaderWindowRight),this._imageViewer=this._createImageViewer(n,t==null?void 0:t.scaleMode,t==null?void 0:t.zoom),t!=null&&t.interval&&setInterval(()=>{this._imageViewer.showNextImage()},t.interval)}build(){return new kr(this._imageViewer,this._lazyLoader)}_createImagesArray(e){const t=new Array;for(let n=0;n<e.length;n++){const s=new X(e[n]);t.push(s)}return t}_createLoader(e,t=Er,n=pr){return new se(e,t,n)}_createImageViewer(e,t,n){const s=new Xe(e,this._lazyLoader,t);return n!==void 0&&s.setZoomAnimation(n),s}}const ue={thumbs_scroller__previous_btn:"mbg__thumbs_scroller__previous_btn",thumbs_scroller__next_btn:"mbg__thumbs_scroller__next_btn",thumbs_scroller__parent:"mbg__thumbs_scroller__parent"},Qe='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1152 896q0 26-19 45l-448 448q-19 19-45 19t-45-19-19-45v-896q0-26 19-45t45-19 45 19l448 448q19 19 19 45z"/></svg>';class et{constructor(e,t,n,s){l(this,"_thumbContainerElement");l(this,"_previousButtonElement");l(this,"_nextButtonElement");l(this,"_lazyLoader");l(this,"_numberOfVisibleThumbs");l(this,"_numberOfThumbs");l(this,"_initialIndex");l(this,"_thumbsViewer");this._thumbContainerElement=e,c(this._thumbContainerElement,ue.thumbs_scroller__parent),this._numberOfVisibleThumbs=n!=null&&n.numberOfVisibleThumbs?n.numberOfVisibleThumbs:Ir,this._initialIndex=n==null?void 0:n.initialIndex;const i=this._createThumbsArray(t);this._numberOfThumbs=i.length,this._createThumbStages(i,s),this._lazyLoader=new se(i,0,this._numberOfVisibleThumbs-1),this._thumbsViewer=this._createThumbsViewer(this._initialIndex)}addPreviousNextButtons(){return this._numberOfVisibleThumbs<this._numberOfThumbs&&([this._previousButtonElement,this._nextButtonElement]=this._createPreviousNextButtons()),this}build(){return this._previousButtonElement&&this._nextButtonElement&&this._addThumbsViewerInteraction(this._previousButtonElement,this._nextButtonElement),this._numberOfVisibleThumbs>=this._numberOfThumbs?setTimeout(()=>{this._lazyLoader.loadElement(0),this._lazyLoader.setCurrentIndex(0),this._thumbsViewer.setCenterThumb(0)},0):this._setupSwipeHandler(),this._thumbsViewer}_createThumbsArray(e){const t=new Array;for(let n=0;n<e.length;n++){const s=new X(e[n]);t.push(s)}return t}_createThumbStages(e,t){e.forEach((n,s)=>{const i=new Ue(n.getHtmlElement(),n.getWidth(),n.getHeight());n.addWasLoadedCallback(()=>{i.showImage(),i.reinitSize()}),n.wasLoaded()&&i.showImage(),t&&i.addStageClickedCallback(()=>{t(s)})})}_createThumbsViewer(e=0){const t=new Ke(this._thumbContainerElement,this._numberOfVisibleThumbs);return t.addScrollIndexChangedCallback(n=>{this._lazyLoader.setCurrentIndex(n)}),t.setCenterThumb(e),t}_createPreviousNextButtons(){const e=w("div");W(e,Qe),c(e,ue.thumbs_scroller__previous_btn),fe(e,this._thumbContainerElement);const t=w("div");return W(t,Qe),c(t,ue.thumbs_scroller__next_btn),T(t,this._thumbContainerElement),[e,t]}_addThumbsViewerInteraction(e,t){R(t,()=>{this._thumbsViewer.scrollNext()}),R(e,()=>{this._thumbsViewer.scrollPrevious()})}_setupSwipeHandler(){new ae(this._thumbContainerElement,(e,t)=>{e===g.RIGHT?this._thumbsViewer.scrollNext():e===g.LEFT&&this._thumbsViewer.scrollPrevious()})}}const tt='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>',Or='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z"/></svg>',ce={gallery__fullscreen_btn:"mbg__gallery__fullscreen_btn",gallery__previous_btn:"mbg__gallery__previous_btn",gallery__next_btn:"mbg__gallery__next_btn"};class B{constructor(e,t,n=!1){l(this,"_slideshowContainerElement");l(this,"_fullScreenOnly");l(this,"_slideshow");l(this,"_thumbsViewer",null);l(this,"_fullscreen",null);this._slideshowContainerElement=e,this._slideshow=t,this._fullScreenOnly=n}static fromContainerAndImages(e,t,n){const s=new me(t,n).build();return new B(e,s)}static fromImages(e,t){const n=w("div");m(n,"display","none"),e.forEach(o=>{T(lt(o),n)});const s=x("body");T(n,s);const i=n.children,a=new me(i,t).build();return new B(n,a,!0)}addPreviousNextButtons(){if(this._slideshow.getImageViewer().getNumberOfImages()>1){const{previousButton:e,nextButton:t}=this._createPreviousNextButtons();this._setupHoverEvents([e,t])}return this}addFullscreen(e){if(this._fullscreen=new Ve(this._slideshowContainerElement),e&&(xr(e),e.backgroundColor&&this._fullscreen.setBackgroundColor(e.backgroundColor),e.useAverageBackgroundColor)){const n=new Pt,s=this._slideshow.getImageViewer();s.addImageChangedCallback((i,a)=>{var o;if((o=this._fullscreen)!=null&&o.isActive())try{const h=n.getColor(s.getImageElement(i),{algorithm:"sqrt",silent:!0});this._fullscreen.setBackgroundColor(h.rgb)}catch{}}),this._fullscreen.addChangedCallback(i=>{var a;if(i)try{const o=n.getColor(s.getImageElement(s.getImageIndex()),{algorithm:"sqrt",silent:!0});(a=this._fullscreen)==null||a.setBackgroundColor(o.rgb)}catch{}})}const t=this._createFullscreenButton();return this._setupHoverEvents([t]),this._setupFullscreenKeyEvents(this._fullscreen),this._setupFullscreenClickEvent(this._fullscreen,t),this._setupFullscreenChangedHandler(this._fullscreen,t),this._fullScreenOnly&&this._fullscreen.addChangedCallback(n=>{n?E(this._slideshowContainerElement,"display"):m(this._slideshowContainerElement,"display","none")}),this}addThumbScroller(e,t,n){return this._thumbsViewer=new et(e,t,n,s=>{this._slideshow.getLoader().setCurrentIndex(s),this._slideshow.getImageViewer().showImage(s)}).addPreviousNextButtons().build(),this._slideshow.getImageViewer().addImageChangedCallback((s,i)=>{this._thumbsViewer.setCenterThumb(s,!0)}),this}build(){return this._slideshow.getImageViewer().getNumberOfImages()>1&&(this._setupSwipeHandler(this._slideshow.getImageViewer()),this._setupKeyEvents(this._slideshow.getImageViewer())),new Wr(this._slideshow.getImageViewer(),this._slideshow.getLoader(),this._thumbsViewer,this._fullscreen)}_createPreviousNextButtons(){const e=w("div");W(e,tt),c(e,ce.gallery__previous_btn),c(e,p.fade),fe(e,this._slideshowContainerElement);const t=w("div");return W(t,tt),c(t,ce.gallery__next_btn),c(t,p.fade),T(t,this._slideshowContainerElement),{previousButton:e,nextButton:t}}_setupSwipeHandler(e){m(this._slideshowContainerElement,"touch-action","pinch-zoom pan-y"),new ae(this._slideshowContainerElement,(t,n)=>{if(t===g.LEFT)e.showPreviousImage(t);else if(t===g.RIGHT)e.showNextImage(t);else{const s=te(this._slideshowContainerElement).width,i=ht(this._slideshowContainerElement).x;n.x-i>s/2?e.showNextImage():e.showPreviousImage()}})}_setupHoverEvents(e){k(this._slideshowContainerElement,"mouseenter",()=>{e.forEach(t=>{m(t,"opacity",`${yr}`)})}),k(this._slideshowContainerElement,"mouseleave",()=>{e.forEach(t=>{m(t,"opacity","0")})})}_setupKeyEvents(e){we(t=>{switch(ve(t)){case"ArrowRight":e.showNextImage();break;case"ArrowLeft":e.showPreviousImage();break}})}_setupFullscreenKeyEvents(e){we(t=>{switch(ve(t)){case"Escape":e.deActivate();break;case"f":e.isActive()?e.deActivate():e.activate();break}})}_createFullscreenButton(){const e=w("div");return W(e,Or),c(e,ce.gallery__fullscreen_btn),c(e,p.fade),T(e,this._slideshowContainerElement),e}_setupFullscreenClickEvent(e,t){k(t,"pointerdown",n=>{n.stopPropagation()}),k(t,"pointerup",n=>{n.stopPropagation(),e.isActive()||(e.activate(),m(t,"display","none"))})}_setupFullscreenChangedHandler(e,t){e.addChangedCallback(n=>{n?m(t,"display","none"):E(t,"display")})}}const zr={images_wall__parent:"mbg__images_wall__parent"};class Hr{constructor(e,t,n,s){l(this,"_containerElement");l(this,"_images");l(this,"_imagesWall");this._containerElement=e,c(this._containerElement,zr.images_wall__parent),this._images=this._createImagesArray(t),this._imagesWall=new Je(this._images,n),s&&this._addImageClickCallbacks(s),br(this._images,{mode:S.WINDOWED_SCROLL,useSurrogate:!0}),this._containerElement.appendChild(this._imagesWall.element)}addImageClickedCallback(e){return this._addImageClickCallbacks(e),this}build(){return this._imagesWall}_createImagesArray(e){const t=new Array;for(let n=0;n<e.length;n++){const s=new X(e[n]);t.push(s)}return t}_addImageClickCallbacks(e){this._images.forEach((t,n)=>{R(t.getHtmlElement(),()=>{e(n)})})}}function rt(r,e){if(typeof r!="string")throw new Error("createSlideshow - first parameter must be imageSelector string");const t=O(r);if((t==null?void 0:t.length)>0){e&&oe(e);const n=new me(t,e).build();return n.getImageViewer().showImage(0),n}else throw new Error("createSlideshow - no images selected")}function nt(r,e,t,n){if(typeof r!="string")throw new Error("createThumbsViewer - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createThumbsViewer - second parameter must be imageSelector string");t&&Ze(t);const s=O(e),i=x(r);if(i&&(s==null?void 0:s.length)>0)return new et(i,s,t,n).addPreviousNextButtons().build();throw new Error("createThumbsViewer - no images selected")}function st(r,e,t){if(typeof r!="string")throw new Error("createGallery - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createGallery - second parameter must be imageSelector string");t&&Lr(t);const n=O(e),s=x(r);if(s&&n.length>0){const i=B.fromContainerAndImages(s,n,t).addPreviousNextButtons().addFullscreen({useAverageBackgroundColor:!0});if(t!=null&&t.thumbSelector&&(t!=null&&t.thumbContainerSelector)){const o=x(t.thumbContainerSelector),h=O(t.thumbSelector);o&&h&&(h.length>1?i.addThumbScroller(o,h,t):m(o,"display","none"))}const a=i.build();return t!=null&&t.initialImageNr?a.getImageViewer().showImage(t.initialImageNr):a.getImageViewer().showImage(0),a}else throw new Error("createGallery - no images selected")}function it(r,e){if(typeof r!="string")throw new Error("createFullscreenOnlyGallery - first parameter must be imageSelector string");oe(e);const t=O(r);if((t==null?void 0:t.length)>0){const n=B.fromImages(t,e).addPreviousNextButtons().addFullscreen({useAverageBackgroundColor:!0}).build();return t.forEach(function(s,i){s.style.setProperty("cursor","pointer"),s.addEventListener("click",function(){const a=n.getFullscreen();a&&!a.isActive()&&(n.getImageViewer().showImage(i),a.activate())})}),n}else throw new Error("createFullscreenOnlyGallery - no images selected")}function at(r,e,t,n){if(typeof r!="string")throw new Error("createImagesWall - first parameter must be containerSelector string");const s=x(r);if(!s)throw new Error("createImagesWall - container not found");const i=O(e);if(!i||i.length===0)throw new Error("createImagesWall - no images found inside the container");return new Hr(s,i,t??3,n).build()}window.mbgGalleryObjects=new Array;function M(r){const e=x(r);e&&(c(e,p.fade),m(e,"opacity","1"))}const Y=class Y extends HTMLElement{connectedCallback(){const e=`mbg__custom-gallery-${Y.classCounter++}`;this.classList.add(e);const t=this.getAttribute("numberOfVisibleThumbs"),n=this.getAttribute("loaderWindowLeft"),s=this.getAttribute("loaderWindowRight"),i=this.getAttribute("initialImageNr"),a=this.getAttribute("interval"),o=this.hasAttribute("zoom"),h=`.${e} mbg-images`,d=`.${e} mbg-thumbs`,_=st(h,`${h} img`,{scaleMode:I.FIT_ASPECT,thumbContainerSelector:d,thumbSelector:`${d} img`,numberOfVisibleThumbs:t?+t:void 0,loaderWindowLeft:n?+n:void 0,loaderWindowRight:s?+s:void 0,initialImageNr:i?+i:void 0,interval:a?+a:void 0,zoom:o?!0:void 0});window.mbgGalleryObjects.push(_);const v=document.querySelector("mbg-title");if(v){const b=_.getImageViewer().getImageInfo(_.getImageViewer().getImageIndex());b&&(v.innerHTML=b.getTitle()),_.getImageViewer().addImageChangedCallback((f,L)=>{v.innerHTML=L.getTitle()})}M(h),M(d)}};l(Y,"classCounter",0);let _e=Y;const K=class K extends HTMLElement{connectedCallback(){const e=`mbg__custom-slideshow-${K.classCounter++}`;this.classList.add(e);const t=this.getAttribute("loaderWindowLeft"),n=this.getAttribute("loaderWindowRight"),s=this.getAttribute("interval"),i=this.hasAttribute("zoom"),a=this.hasAttribute("expand"),o=`.${e} mbg-images`;rt(`${o} img`,{scaleMode:a!==null?I.EXPAND:I.FIT_ASPECT,loaderWindowLeft:t?+t:void 0,loaderWindowRight:n?+n:void 0,interval:s?+s:4e3,zoom:i?!0:void 0}),M(o)}};l(K,"classCounter",0);let de=K;const J=class J extends HTMLElement{connectedCallback(){const e=`mbg__custom-thumbscroller-${J.classCounter++}`;this.classList.add(e);const t=this.getAttribute("numberOfVisibleThumbs"),n=this.getAttribute("initialIndex"),s=`.${e} mbg-thumbs`;nt(s,`${s} img`,{numberOfVisibleThumbs:t?+t:void 0,initialIndex:n?+n:void 0}),M(s)}};l(J,"classCounter",0);let ge=J;const Q=class Q extends HTMLElement{connectedCallback(){const e=`mbg__custom-imageswall-${Q.classCounter++}`;this.classList.add(e);const t=this.getAttribute("columns"),n=`.${e} mbg-images`;it(`${n} img`,{}),at(n,`${n} img`,t?+t:void 0),M(n)}};l(Q,"classCounter",0);let be=Q;class Rr extends HTMLElement{}class Pr extends HTMLElement{}class Nr extends HTMLElement{}return customElements.define("mbg-gallery",_e),customElements.define("mbg-slideshow",de),customElements.define("mbg-thumbscroller",ge),customElements.define("mbg-imageswall",be),customElements.define("mbg-images",Rr),customElements.define("mbg-thumbs",Pr),customElements.define("mbg-title",Nr),u.EImageScaleMode=I,u.ESwipeDirection=g,u.Fullscreen=Ve,u.HorizontalScroller=Fe,u.Image=X,u.ImageStage=$,u.ImageStageExpand=le,u.ImageStageFitAspect=De,u.ImageStageNoScale=Ge,u.ImageStageStretch=qe,u.ImageViewer=Xe,u.ImagesWall=Je,u.SwipeHandler=ae,u.ThumbStage=Ue,u.ThumbsViewer=Ke,u.createFullscreenOnlyGallery=it,u.createGallery=st,u.createImagesWall=at,u.createSlideshow=rt,u.createThumbsScroller=nt,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),u}({});
