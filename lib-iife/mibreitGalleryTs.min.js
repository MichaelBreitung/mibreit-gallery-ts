var ot=Object.defineProperty;var at=(c,w,m)=>w in c?ot(c,w,{enumerable:!0,configurable:!0,writable:!0,value:m}):c[w]=m;var o=(c,w,m)=>at(c,typeof w!="symbol"?w+"":w,m);var mibreitGalleryTs=function(c){"use strict";var w=document.createElement("style");w.textContent=`.mbg__img_stage{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:hidden}.mbg__img_stage__zoom{-webkit-transition:transform 10s linear;-moz-transition:transform 10s linear;-o-transition:transform 10s linear;transition:transform 10s linear;-webkit-transform:scale(1.125);-moz-transform:scale(1.125);-o-transform:scale(1.125);transform:scale(1.125)}.mbg__fade{-webkit-transition:opacity .75s ease-out;-moz-transition:opacity .75s ease-out;-o-transition:opacity .75s ease-out;transition:opacity .75s ease-out}.mbg__transition{-webkit-transition:all .75s ease-out;-moz-transition:all .75s ease-out;-o-transition:all .75s ease-out;transition:all .75s ease-out}.mbg__thumb_stage{margin:.25rem;position:relative;flex-shrink:0;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.5);box-shadow:0 0 5px #00000080}.mbg__thumb_stage:hover{transform:scale(1.1)}.mbg__thumbs_wrapper__parent{display:flex;flex-direction:row;align-items:center}.mbg__thumbs_wrapper__parent svg{width:3rem;height:3rem;fill:#727f88}.mbg__thumbs_wrapper{height:100%;width:100%;overflow:hidden}.mbg__thumbs_wrapper__centered{height:100%;width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center}.mbg__thumbs_wrapper__previous_btn,.mbg__thumbs_wrapper__next_btn{margin-right:.5rem;margin-left:.5rem}.mbg__thumbs_wrapper__previous_btn>svg{transform:scaleX(-1)}.mbg__hscroller{height:100%;display:flex;flex-direction:row;align-items:center;-webkit-transition:transform .6s ease-in-out;-moz-transition:transform .6s ease-in-out;-o-transition:transform .6s ease-in-out;transition:transform .6s ease-in-out}.mbg__fullscreen{position:fixed;box-sizing:border-box;background-color:#181818;-webkit-transition:background-color .75s ease-in-out;-moz-transition:background-color .75s ease-in-out;-o-transition:background-color .75s ease-in-out;transition:background-color .75s ease-in-out;overflow:hidden;top:0;left:0;padding:1rem;width:100%;height:100%;z-index:100;display:flex;flex-direction:column}.mbg__fullscreen>div>.mbg__img_stage{overflow:visible}.mbg__fullscreen>div>.mbg__img_stage img{-webkit-box-shadow:0px 0px 15px 0px rgba(0,0,0,.5);box-shadow:0 0 15px #00000080}.mbg__fullscreen>.mbg__fullscreen__exit_btn{position:absolute;width:3rem;height:3rem;right:1rem;top:1rem;z-index:3}.mbg__fullscreen>.mbg__fullscreen__exit_btn>svg{opacity:.75}.mbg__gallery__fullscreen_btn{position:absolute;z-index:2;width:2rem;height:2rem;right:.25rem;top:.25rem;opacity:0}.mbg__gallery__previous_btn{position:absolute;z-index:2;top:50%;opacity:0}.mbg__gallery__next_btn{position:absolute;z-index:2;top:50%;right:0rem;opacity:0}.mbg__gallery__next_btn>svg{width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}.mbg__gallery__previous_btn>svg{transform:scaleX(-1);width:3rem;height:3rem;margin-top:-1.5rem;fill:#727f88}
`,document.head.appendChild(w);var m=(r=>(r[r.NONE=0]="NONE",r[r.FIT_ASPECT=1]="FIT_ASPECT",r[r.STRETCH=2]="STRETCH",r[r.EXPAND=3]="EXPAND",r))(m||{});function M(r){if(typeof r.numberOfVisibleThumbs<"u"&&(typeof r.numberOfVisibleThumbs!="number"||r.numberOfVisibleThumbs<0))throw new Error("checkThumbScrollerConfig - numberOfVisibleThumbs is invalid number");if(typeof r.initialIndex<"u"&&(typeof r.initialIndex!="number"||r.initialIndex<0))throw new Error("checkThumbScrollerConfig - config initialIndex should be of type number")}function F(r){if(typeof r.scaleMode<"u"&&(typeof r.scaleMode!="number"||r.scaleMode<0||r.scaleMode>3))throw new Error("checkSlideshowConfig - config scaleMode should be of type EImageScaleMode (number 0 - 3)");if(typeof r.interval<"u"&&(typeof r.interval!="number"||r.interval<1e3))throw new Error("checkSlideshowConfig - config interval should be of type number and larger than 1000");if(typeof r.zoom<"u"&&typeof r.zoom!="boolean")throw new Error("checkSlideshowConfig - config zoom should be of type boolean");if(typeof r.preloaderAfterSize<"u"&&(typeof r.preloaderAfterSize!="number"||r.preloaderAfterSize<0))throw new Error("checkSlideshowConfig - config preloaderAfterSize should be of type number");if(typeof r.preloaderBeforeSize<"u"&&(typeof r.preloaderBeforeSize!="number"||r.preloaderBeforeSize<0))throw new Error("checkSlideshowConfig - config preloaderBeforeSize should be of type number")}function le(r){if(F(r),M(r),typeof r.thumbContainerSelector<"u"&&typeof r.thumbContainerSelector!="string")throw new Error("checkGalleryConfig - invalid thumbContainerSelector");if(typeof r.thumbSelector<"u"&&typeof r.thumbSelector!="string")throw new Error("checkGalleryConfig - invalid thumbSelector")}function he(){return parseFloat(window.getComputedStyle(document.body).getPropertyValue("font-size"))}function d(r){return document.createElement(r)}function ue(r){return r.cloneNode()}function T(r){r.remove()}function $(r,e){e.prepend(r)}function E(r,e){e.appendChild(r)}function N(r,e){e.parentElement.insertBefore(r,e)}function Z(r){for(var e=r.childNodes,t=new Array,n=0;n<e.length;++n)t.push(e[n]);return t}function v(r,e){r.innerHTML=e}function R(r,e){r[0].parentNode.insertBefore(e,r[0]),r.forEach(function(t){e.appendChild(t)})}function k(r){var e=r.getBoundingClientRect();return{width:e.width,height:e.height}}function _e(r){var e=r.getBoundingClientRect(),t=window.innerHeight,n=window.innerWidth;return e.top+e.height>0&&e.top<t&&e.left+e.width>0&&e.left<n}function ce(r){var e=r.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{y:e.top+n,x:e.left+t}}function me(r){return x(r,"class")}function u(r,e){r.classList.contains(e)||r.classList.add(e)}function S(r,e){r.classList.contains(e)&&r.classList.remove(e)}function de(r,e){return window.getComputedStyle(r).getPropertyValue(e)}function a(r,e,t){r.style.setProperty(e,t)}function g(r,e){r.style.removeProperty(e),r.style.length===0&&r.removeAttribute("style")}function ge(r){r.hasAttribute("style")&&r.removeAttribute("style")}function be(r,e){e==null?ge(r):r.style.cssText=e}function x(r,e){return r.hasAttribute(e)?r.getAttribute(e):null}function fe(r,e,t){r.setAttribute(e,t)}function pe(r,e){r.removeAttribute(e)}function V(r,e){r.addEventListener("click",e)}function U(r){document.addEventListener("keydown",r)}function we(r){window.addEventListener("resize",r)}function C(r,e,t){r.addEventListener(e,t)}function ye(r){r.addEventListener("contextmenu",function(e){e.preventDefault()})}function Ee(r){r.addEventListener("dragstart",function(e){e.preventDefault()})}function L(r){return document.querySelector(r)}function A(r){return document.querySelectorAll(r)}function q(r){return r.key}var ve=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(h){h(i)})}return new(t||(t=Promise))(function(i,h){function _(p){try{l(n.next(p))}catch(G){h(G)}}function I(p){try{l(n.throw(p))}catch(G){h(G)}}function l(p){p.done?i(p.value):s(p.value).then(_,I)}l((n=n.apply(r,e||[])).next())})},Se=function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,h;return h={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function _(l){return function(p){return I([l,p])}}function I(l){if(n)throw new TypeError("Generator is already executing.");for(;h&&(h=0,l[0]&&(t=0)),t;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,s=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(p){l=[6,p],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ce=5,X=function(){function r(e,t,n){t===void 0&&(t=0),n===void 0&&(n=Ce),this._unloadedElementIndices=[],this._currentIndex=-1,this._elementLoaders=e,this._preloaderBeforeSize=t,this._preloaderAfterSize=n,this._updateUnloadedElementIndices()}return r.prototype.loadAll=function(){this._loadElements(0,this._elementLoaders.length)},r.prototype.setCurrentIndex=function(e){this._currentIndex!=e&&(this._currentIndex=e,this._moveWindow())},r.prototype.loadElement=function(e){return ve(this,void 0,void 0,function(){var t,n,s;return Se(this,function(i){switch(i.label){case 0:return e>=0&&e<this._elementLoaders.length?(t=!1,this._unloadedElementIndices.includes(e)?[3,1]:(t=!0,[3,5])):[3,6];case 1:i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._elementLoaders[e].load()];case 3:return t=i.sent(),t&&(n=this._unloadedElementIndices.indexOf(e),n>-1&&this._unloadedElementIndices.splice(n,1)),[3,5];case 4:return s=i.sent(),t=s,[3,5];case 5:return[2,t];case 6:throw new Error("Preloader#loadElement -> invalid Index ".concat(e))}})})},r.prototype.getElementLoaderInfos=function(){return this._elementLoaders},r.prototype.getUnloadedElementIndices=function(){return this._unloadedElementIndices},r.prototype._moveWindow=function(){if(this._unloadedElementIndices.length){var e=this._currentIndex-this._preloaderBeforeSize,t=this._currentIndex+this._preloaderAfterSize;this._loadElements(this._currentIndex,t<this._elementLoaders.length?t:this._elementLoaders.length),this._loadElements(e>=0?e:0,this._currentIndex),e<0&&(e=this._elementLoaders.length+e,this._loadElements(e,this._elementLoaders.length)),t>=this._elementLoaders.length&&(t=t-this._elementLoaders.length,this._loadElements(0,t))}},r.prototype._loadElements=function(e,t){for(var n=e<0?0:e;n<t&&n<this._elementLoaders.length;n++)this.loadElement(n)},r.prototype._updateUnloadedElementIndices=function(){for(var e=0;e<this._elementLoaders.length;e++)this._elementLoaders[e].wasLoaded()||this._unloadedElementIndices.push(e)},r}(),K="mibreit-LazyLoader_lazy",Y="mibreit-LazyLoader_ElementLoader_animate",j="data-src",Ie="src",y;(function(r){r[r.INACTIVE=0]="INACTIVE",r[r.LOADING=1]="LOADING",r[r.LOADED=2]="LOADED"})(y||(y={}));var Te=function(){function r(e){var t;this._state=y.INACTIVE,this._wasLoadedCallbacks=new Array,this._dataSrc=null,this._element=e,this._dataSrc=x(e,j);var n=(t=me(e))===null||t===void 0?void 0:t.split(",");this._dataSrc||n&&n.includes(K)?(this._state=y.INACTIVE,this._setBaseStyle()):this._state=y.LOADED}return r.prototype.load=function(){var e=this;return new Promise(function(t,n){e._state==y.INACTIVE?(e._element.onload=function(){e._finishLoad(),t(!0)},e._triggerLoad(),e._state=y.LOADING,e._setLoadingStyle(),e._element instanceof HTMLImageElement&&e._element.complete&&(e._element.onload=null,e._finishLoad(),t(!0))):e._state===y.LOADING?n(!1):n(!0)})},r.prototype.wasLoaded=function(){return this._state===y.LOADED},r.prototype.addWasLoadedCallback=function(e){this._wasLoadedCallbacks.includes(e)||this._wasLoadedCallbacks.push(e)},r.prototype._triggerLoad=function(){this._dataSrc&&fe(this._element,Ie,this._dataSrc),S(this._element,K)},r.prototype._finishLoad=function(){var e=this;pe(this._element,j),this._state=y.LOADED,this._wasLoadedCallbacks.forEach(function(t){t()}),setTimeout(function(){e._setLoadedStyle()},50)},r.prototype._setBaseStyle=function(){a(this._element,"opacity","0")},r.prototype._setLoadingStyle=function(){u(this._element,Y)},r.prototype._setLoadedStyle=function(){var e=this;g(this._element,"opacity"),setTimeout(function(){S(e._element,Y)},1e3)},r}(),xe=function(){function r(e){var t=x(e,"width"),n=x(e,"height");if(t==null||n==null)throw new Error("ElementInfo#constructor - supported elements need a width and height property");var s=x(e,"class");this._element=e,this._originalElementStyle=s||"",this._width=parseInt(t),this._height=parseInt(n)}return r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.getStyle=function(){return this._originalElementStyle},r.prototype.isElementWithinScrollArea=function(){return _e(this._element)},r}(),Le=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ae=function(r){Le(e,r);function e(t){var n=r.call(this,t)||this;return n._elementInfo=new xe(n._element),n}return e.prototype.getHtmlElement=function(){return this._element},e.prototype.getWidth=function(){return this._elementInfo.getWidth()},e.prototype.getHeight=function(){return this._elementInfo.getHeight()},e.prototype.getStyle=function(){return this._elementInfo.getStyle()},e.prototype.isElementWithinScrollArea=function(){return this._elementInfo.isElementWithinScrollArea()},e}(Te),J;(function(r){r[r.SIMPLE_DEFER=0]="SIMPLE_DEFER",r[r.WINDOWED_EXTERNAL=1]="WINDOWED_EXTERNAL",r[r.WINDOWED_SCROLL=2]="WINDOWED_SCROLL",r[r.WINDOWED_SCROLL_HORIZONTAL=3]="WINDOWED_SCROLL_HORIZONTAL"})(J||(J={}));const H={img_stage:"mbg__img_stage",img_stage__zoom:"mbg__img_stage__zoom"},f={fade:"mbg__fade",transition:"mbg__transition"},Q=50,Oe=700;var b=(r=>(r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r))(b||{});class ze{constructor(e,t){o(this,"_callback");o(this,"_touchStartTime",null);o(this,"_touchStartPosition",null);o(this,"_touchStart",e=>{this._touchStartTime=Date.now(),this._touchStartPosition=this._getTouchPosition(e)});o(this,"_touchEnd",e=>{if(this._touchStartTime&&this._touchStartPosition&&Date.now()-this._touchStartTime<Oe){const t=this._getTouchPosition(e),n=this._detectDirection(this._touchStartPosition,t);this._callback(n,t)}this._touchStartPosition=null,this._touchStartTime=null});this._callback=t,C(e,"pointerdown",this._touchStart),C(e,"pointerup",this._touchEnd)}_getTouchPosition(e){return{x:e.pageX,y:e.pageY}}_detectDirection(e,t){const n=e.x-t.x;return n>Q?2:n<-Q?1:0}}const P=async function(){return new Promise((r,e)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})})},Ne=1e3;class B{constructor(e,t,n){o(this,"_zoomAnimation",!1);o(this,"_imageStage");o(this,"_imageHandle");o(this,"_imageWidth");o(this,"_imageHeight");this._imageHandle=e,this._imageWidth=t,this._imageHeight=n,this._imageStage=this._createStage(),new ResizeObserver(()=>{this.reinitSize()}).observe(this._imageStage)}setZoomAnimation(e){this._zoomAnimation=e}reinitSize(){const e=k(this._imageStage);this._applyScaleModeImpl(e.width,e.height),this._centerImage(e.width,e.height)}async hideImage(e=b.NONE){this._zoomAnimation&&setTimeout(()=>{this._resetZoom()},Ne),this._stopSlideAnimation(),await P(),e==b.RIGHT?(u(this._imageStage,f.transition),a(this._imageStage,"left","-100%")):e==b.LEFT&&(u(this._imageStage,f.transition),a(this._imageStage,"left","100%")),g(this._imageStage,"opacity")}async showImage(e=b.NONE){this._zoomAnimation&&this._startZoomAnimation(),this._stopSlideAnimation(),await P(),e==b.RIGHT?(S(this._imageStage,f.transition),a(this._imageStage,"left","100%"),await P(),u(this._imageStage,f.transition),g(this._imageStage,"left")):e==b.LEFT?(S(this._imageStage,f.transition),a(this._imageStage,"left","-100%"),await P(),u(this._imageStage,f.transition),g(this._imageStage,"left")):(S(this._imageStage,f.transition),g(this._imageStage,"left")),a(this._imageStage,"opacity","1")}_createStage(){const e=d("div");return u(e,H.img_stage),u(e,f.fade),R([this._imageHandle],e),e}_centerImage(e,t){const{width:n,height:s}=k(this._imageHandle),i=(n+e)/2-n,h=(s+t)/2-s;a(this._imageHandle,"margin-left",`${i}px`),a(this._imageHandle,"margin-top",`${h}px`)}_startZoomAnimation(){u(this._imageHandle,H.img_stage__zoom)}_resetZoom(){S(this._imageHandle,H.img_stage__zoom)}_stopSlideAnimation(){a(this._imageStage,"margin-left",de(this._imageStage,"margin-left"))}}class ke extends B{constructor(e,t,n){super(e,t,n)}_applyScaleModeImpl(e,t){const n=this._imageWidth/this._imageHeight;let s="auto",i="auto";e/t>n?t<=this._imageHeight&&(i="100%"):e<=this._imageWidth&&(s="100%"),a(this._imageHandle,"width",s),a(this._imageHandle,"height",i)}}class ee extends B{constructor(e,t,n){super(e,t,n)}_applyScaleModeImpl(e,t){const n=this._imageWidth/this._imageHeight,s=e/t;s>n?(a(this._imageHandle,"width","100%"),a(this._imageHandle,"height",`${100/n*s}%`)):(a(this._imageHandle,"width",`${n*100/s}%`),a(this._imageHandle,"height","100%"))}}class Ve extends B{constructor(e,t,n){super(e,t,n)}_applyScaleModeImpl(e,t){a(this._imageHandle,"width","100%"),a(this._imageHandle,"height","100%")}}class Pe extends B{constructor(e,t,n){super(e,t,n)}_applyScaleModeImpl(e,t){g(this._imageHandle,"width"),g(this._imageHandle,"height")}}function Be(r,e,t,n=m.FIT_ASPECT){switch(n){case m.EXPAND:return new ee(r,e,t);case m.FIT_ASPECT:return new ke(r,e,t);case m.STRETCH:return new Ve(r,e,t);case m.NONE:default:return new Pe(r,e,t)}}class Fe{constructor(e,t=m.FIT_ASPECT){o(this,"_currentIndex",-1);o(this,"_imageStages",[]);o(this,"_images");o(this,"_imageChangedCallbacks",new Array);this._images=e,this._prepareImageStages(e,t)}showImage(e){return this._showImage(e)}showNextImage(e){const t=this._currentIndex<this._imageStages.length-1?this._currentIndex+1:0;return this._showImage(t,e)}showPreviousImage(e){const t=this._currentIndex>0?this._currentIndex-1:this._imageStages.length-1;return this._showImage(t,e)}getNumberOfImages(){return this._imageStages.length}setZoomAnimation(e){this._imageStages.forEach(t=>{t.setZoomAnimation(e)})}addImageChangedCallback(e){this._imageChangedCallbacks.includes(e)||this._imageChangedCallbacks.push(e)}getImageIndex(){return this._currentIndex}getImageInfo(e){return this._isValidIndex(e)?this._images[e]:null}getImageElement(e){return this._isValidIndex(e)?this._images[e].getHtmlElement():null}_showImage(e,t=b.NONE){return this._isValidIndex(e)?(e!=this._currentIndex&&(this._images[e].wasLoaded()?(this._hideImage(this._currentIndex,t),this._changeCurrentImage(e,t)):this._images[e].addWasLoadedCallback(()=>{this._hideImage(this._currentIndex,t),this._changeCurrentImage(e,t)})),!0):!1}_hideImage(e,t=b.NONE){this._isValidIndex(e)&&this._imageStages[this._currentIndex].hideImage(t)}_prepareImageStages(e,t){e.forEach(n=>{const s=Be(n.getHtmlElement(),n.getWidth(),n.getHeight(),t);n.addWasLoadedCallback(()=>{s.reinitSize()}),this._imageStages.push(s)})}_isValidIndex(e){return e>=0&&e<this._imageStages.length}_changeCurrentImage(e,t=b.NONE){this._currentIndex=e,this._imageStages[this._currentIndex].showImage(t),this._imageChangedCallbacks.forEach(n=>{n(this._currentIndex,this._images[this._currentIndex])})}}class Re{constructor(e,t){o(this,"_imageViewer");o(this,"_loader");this._imageViewer=e,this._loader=t}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}}const te="title",re="data-title",He=7,We=3,De=7,Ge=.5;class ne extends Ae{constructor(t){super(t);o(this,"_title","");this._prepareTitle(t),this._limitMaxSizeTo(t,this.getWidth(),this.getHeight()),ye(t),Ee(t)}getTitle(){return this._title}getUrl(){return this._element.hasAttribute("data-src")?this._element.getAttribute("data-src"):this._element.getAttribute("src")}_limitMaxSizeTo(t,n,s){be(t,`max-width: ${n}px; max-height: ${s}px`)}_prepareTitle(t){let n=t.getAttribute(te);n?(t.setAttribute(re,n),t.removeAttribute(te)):n=t.getAttribute(re),this._title=n||""}}class W{constructor(e,t){o(this,"_imageViewer");o(this,"_lazyLoader");const n=this._createImagesArray(e);this._lazyLoader=this._createLoader(n,t==null?void 0:t.preloaderBeforeSize,t==null?void 0:t.preloaderAfterSize),this._imageViewer=this._createImageViewer(n,this._lazyLoader,t==null?void 0:t.scaleMode,t==null?void 0:t.zoom),t!=null&&t.interval&&setInterval(()=>{this._imageViewer.showNextImage()},t.interval),this._imageViewer.showImage(0)}build(){return new Re(this._imageViewer,this._lazyLoader)}_createImagesArray(e){const t=new Array;for(let n=0;n<e.length;n++){const s=new ne(e[n]);t.push(s)}return t}_createLoader(e,t=We,n=He){const s=new X(e,t,n);return setTimeout(()=>{s.loadElement(0),s.setCurrentIndex(0)},0),s}_createImageViewer(e,t,n,s){const i=new Fe(e,n);return s!==void 0&&i.setZoomAnimation(s),t&&(i.addImageChangedCallback((h,_)=>{t.setCurrentIndex(h)}),t.setCurrentIndex(0)),i}}function Me(r,e){if(typeof r!="string")throw new Error("createSlideshow - second parameter must be imageSelector string");const t=A(r);if((t==null?void 0:t.length)>0)return e&&F(e),new W(t,e).build();throw new Error("createSlideshow - no images selected")}const $e={thumb_stage:"mbg__thumb_stage"};class Ze extends ee{constructor(e,t,n){super(e,t,n),u(this._imageStage,$e.thumb_stage)}addStageClickedCallback(e){V(this._imageStage,e)}}const O={thumbs_wrapper__parent:"mbg__thumbs_wrapper__parent",thumbs_wrapper:"mbg__thumbs_wrapper",thumbs_wrapper__centered:"mbg__thumbs_wrapper__centered",thumbs_wrapper__previous_btn:"mbg__thumbs_wrapper__previous_btn",thumbs_wrapper__next_btn:"mbg__thumbs_wrapper__next_btn"},se='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1152 896q0 26-19 45l-448 448q-19 19-45 19t-45-19-19-45v-896q0-26 19-45t45-19 45 19l448 448q19 19 19 45z"/></svg>';class Ue{constructor(e,t){o(this,"_wrapper");o(this,"_previousButton");o(this,"_nextButton");o(this,"_thumbSizeRem");o(this,"_thumbs");o(this,"_numberOfVisibleThumbs");u(e,O.thumbs_wrapper__parent),this._numberOfVisibleThumbs=t,this._thumbs=Array.from(e.children);const n=t>=this._thumbs.length;this._wrapper=this._wrapThumbs(Z(e),n);const[s,i]=this._createScrollerButtons(e,n);this._previousButton=s,this._nextButton=i,this._thumbSizeRem=this._calculateThumbsize(this._wrapper,t),this._resizeThumbs(this._thumbSizeRem)}reinitSize(){this._thumbSizeRem=this._calculateThumbsize(this._wrapper,this._numberOfVisibleThumbs),this._resizeThumbs(this._thumbSizeRem)}getThumbSizeRem(){return this._thumbSizeRem}getNumberOfVisibleThumbs(){return this._numberOfVisibleThumbs}getNumberOfThumbs(){return this._thumbs.length}getThumbScrollerButtons(){return{previousButton:this._previousButton,nextButton:this._nextButton}}getElements(){return Z(this._wrapper)}_wrapThumbs(e,t){const n=d("div");return t?u(n,O.thumbs_wrapper__centered):u(n,O.thumbs_wrapper),R(e,n),n}_calculateThumbsize(e,t){const n=he();return k(e).width/n/t}_createScrollerButtons(e,t){const n=d("div");v(n,se),u(n,O.thumbs_wrapper__previous_btn),$(n,e);const s=d("div");return v(s,se),u(s,O.thumbs_wrapper__next_btn),E(s,e),t&&(a(n,"opacity","0"),a(s,"opacity","0")),[n,s]}_resizeThumbs(e){const t=e*.9,n=e*.05;for(let s=0;s<this._thumbs.length;++s)a(this._thumbs[s],"width",`${t}rem`),a(this._thumbs[s],"height",`${t}rem`),a(this._thumbs[s],"margin",`${n}rem`)}}function qe(r,e){const t=new Array;return r.forEach((n,s)=>{const i=new Ze(n.getHtmlElement(),n.getWidth(),n.getHeight());n.addWasLoadedCallback(()=>{i.reinitSize()}),i.showImage(),e&&i.addStageClickedCallback(()=>{e(s)}),t.push(i)}),t}function Xe(r,e,t=De,n){return qe(e,n),new Ue(r,t)}const Ke={hscroller:"mbg__hscroller"};class Ye{constructor(e){o(this,"_scroller");this._scroller=this._createScroller(e)}scrollTo(e,t=!1){let n;return t?n=`${e}rem`:n=`${e}px`,a(this._scroller,"transform",`translate(${n})`),!0}_createScroller(e){const t=d("div");return u(t,Ke.hscroller),R(e,t),t}}class je{constructor(e){o(this,"_scroller");o(this,"_thumbsWrapper");o(this,"_scrollIndexChangedCallbacks",new Array);o(this,"_currentScrollIndex",0);this._thumbsWrapper=e,this._scroller=new Ye(e.getElements())}reinitSize(){this._thumbsWrapper.reinitSize(),this.setCenterThumb(this._currentScrollIndex,!1)}setCenterThumb(e,t=!0){let n=e;t&&(n-=Math.floor(this._thumbsWrapper.getNumberOfVisibleThumbs()/2));const s=this._normalizeIndex(n);this._currentScrollIndex=s;const i=-s*this._thumbsWrapper.getThumbSizeRem();this._scroller.scrollTo(i,!0),this._scrollIndexChangedCallbacks.forEach(h=>{h(this._currentScrollIndex)})}scrollNext(){let e=this._currentScrollIndex+this._thumbsWrapper.getNumberOfVisibleThumbs();const t=this._thumbsWrapper.getNumberOfThumbs()-this._thumbsWrapper.getNumberOfVisibleThumbs();this._currentScrollIndex===t?e=0:e>=t&&(e=t),this.setCenterThumb(e,!1)}scrollPrevious(){let e=this._currentScrollIndex-this._thumbsWrapper.getNumberOfVisibleThumbs();const t=this._thumbsWrapper.getNumberOfThumbs()-this._thumbsWrapper.getNumberOfVisibleThumbs();this._currentScrollIndex===0?e=t:e<0&&(e=0),this.setCenterThumb(e,!1)}addScrollIndexChangedCallback(e){this._scrollIndexChangedCallbacks.includes(e)||this._scrollIndexChangedCallbacks.push(e)}_normalizeIndex(e){const t=this._thumbsWrapper.getNumberOfThumbs()-this._thumbsWrapper.getNumberOfVisibleThumbs();return e>=t?t:e<0?0:e}}const Je=7;class ie{constructor(e,t,n,s){o(this,"_thumbsViewer",null);const i=n!=null&&n.numberOfVisibleThumbs?n.numberOfVisibleThumbs:Je,h=this._prepareThumbs(t),_=new X(h,i,i),I=Xe(e,h,i,s);i<h.length?(this._thumbsViewer=this._prepareThumbsViewer(I,_,n==null?void 0:n.initialIndex),this._addThumbsViewerInteraction(this._thumbsViewer,I)):setTimeout(()=>{_.loadElement(0),_.setCurrentIndex(0)},0)}getThumbsViewer(){return this._thumbsViewer}_prepareThumbs(e){const t=new Array;for(let n=0;n<e.length;n++){const s=new ne(e[n]);t.push(s)}return t}_prepareThumbsViewer(e,t,n=0){const s=new je(e);return s.addScrollIndexChangedCallback(i=>{t.setCurrentIndex(i)}),s.setCenterThumb(n),s}_addThumbsViewerInteraction(e,t){const{previousButton:n,nextButton:s}=t.getThumbScrollerButtons();V(s,()=>{e.scrollNext()}),V(n,()=>{e.scrollPrevious()})}}function Qe(r,e,t,n){if(typeof r!="string")throw new Error("createThumbsViewer - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createThumbsViewer - second parameter must be imageSelector string");t&&M(t);const s=A(e),i=L(r);if(i&&(s==null?void 0:s.length)>0)return new ie(i,s,t,n).getThumbsViewer();throw new Error("createThumbsViewer - no images selected")}class et{constructor(e,t,n,s){o(this,"_imageViewer");o(this,"_loader");o(this,"_fullscreenContainer",null);o(this,"_thumbsViewer",null);this._imageViewer=e,this._loader=t,this._thumbsViewer=n,this._fullscreenContainer=s}getImageViewer(){return this._imageViewer}getLoader(){return this._loader}getThumbsViewer(){return this._thumbsViewer}getFullscreen(){return this._fullscreenContainer}}const oe={fullscreen:"mbg__fullscreen",img_stage:"mbg__img_stage",fullscreen__exit_btn:"mbg__fullscreen__exit_btn"},tt='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';class rt{constructor(e,t=null,n=!0){o(this,"_changedCallbacks",[]);o(this,"_active");o(this,"_slideshowContainerElement");o(this,"_thumbsContainerElement",null);o(this,"_fullScreenContainerElement");o(this,"_slideshowContainerPlaceholderElement");o(this,"_thumbsContainerPlaceholderElement",null);o(this,"_closeButtonElement");o(this,"_usePlaceholder");this._active=!1,this._slideshowContainerElement=e,this._thumbsContainerElement=t,this._usePlaceholder=n,this._fullScreenContainerElement=this._createFullscreenContainer(),this._closeButtonElement=this._createFullscreenCloseButton(this._fullScreenContainerElement),this._slideshowContainerPlaceholderElement=this._createSlideshowContainerPlaceholder(),t&&(this._thumbsContainerPlaceholderElement=this._createThumbsContainerPlaceholder())}activate(){this._active||(this._moveGalleryToFullscreen(),this._moveThumbsToFullscreen(),this._addFullscreen(),this._setupCloseButtonHandler(),this._active=!0,this._changedCallbacks.forEach(e=>{e(!0)}))}deActivate(){this._active&&(this._removeGalleryFromFullscreen(),this._removeThumbsFromFullscreen(),this._removeFullscreen(),this._active=!1,this._changedCallbacks.forEach(e=>{e(!1)}))}addChangedCallback(e){this._changedCallbacks.includes(e)||this._changedCallbacks.push(e)}isActive(){return this._active}setBackgroundColor(e){a(this._fullScreenContainerElement,"background-color",e)}_createFullscreenContainer(){const e=d("div");return u(e,oe.fullscreen),e}_createFullscreenCloseButton(e){const t=d("div");return v(t,tt),u(t,oe.fullscreen__exit_btn),E(t,e),t}_createSlideshowContainerPlaceholder(){return d("div")}_createThumbsContainerPlaceholder(){return d("div")}_addFullscreen(){const e=L("body");e!=null&&E(this._fullScreenContainerElement,e)}_removeFullscreen(){T(this._fullScreenContainerElement)}_moveGalleryToFullscreen(){this._usePlaceholder&&N(this._slideshowContainerPlaceholderElement,this._slideshowContainerElement),E(this._slideshowContainerElement,this._fullScreenContainerElement),a(this._slideshowContainerElement,"width","100%"),a(this._slideshowContainerElement,"flex-grow","1")}_removeGalleryFromFullscreen(){T(this._slideshowContainerElement),this._usePlaceholder&&(N(this._slideshowContainerElement,this._slideshowContainerPlaceholderElement),T(this._slideshowContainerPlaceholderElement)),g(this._slideshowContainerElement,"width"),g(this._slideshowContainerElement,"flex-grow")}_moveThumbsToFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(this._usePlaceholder&&N(this._thumbsContainerPlaceholderElement,this._thumbsContainerElement),E(this._thumbsContainerElement,this._fullScreenContainerElement),a(this._thumbsContainerElement,"flex-grow","0"))}_removeThumbsFromFullscreen(){this._thumbsContainerElement&&this._thumbsContainerPlaceholderElement&&(T(this._thumbsContainerElement),this._usePlaceholder&&(N(this._thumbsContainerElement,this._thumbsContainerPlaceholderElement),T(this._thumbsContainerPlaceholderElement)),g(this._thumbsContainerElement,"flex-grow"))}_setupCloseButtonHandler(){V(this._closeButtonElement,e=>{e==null||e.stopPropagation(),this._active&&this.deActivate()})}}const ae='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>',nt='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z"/></svg>',D={gallery__fullscreen_btn:"mbg__gallery__fullscreen_btn",gallery__previous_btn:"mbg__gallery__previous_btn",gallery__next_btn:"mbg__gallery__next_btn"};class z{constructor(e,t,n=!1){o(this,"_slideshowContainerElement");o(this,"_fullScreenOnly");o(this,"_slideshow");o(this,"_thumbsViewer",null);o(this,"_fullscreen",null);this._slideshowContainerElement=e,this._slideshow=t,this._fullScreenOnly=n}static fromContainerAndImages(e,t,n){const s=new W(t,n).build();return new z(e,s)}static fromImages(e,t){const n=d("div");a(n,"display","none"),e.forEach(_=>{E(ue(_),n)});const s=L("body");E(n,s);const i=n.children,h=new W(i,t).build();return new z(n,h,!0)}addPreviousNextButtons(){const{previousButton:e,nextButton:t}=this._createPreviousNextButtons(this._slideshowContainerElement);return this._setupHoverEvents(this._slideshowContainerElement,[e,t]),this}addFullscreen(){this._fullscreen=new rt(this._slideshowContainerElement);const e=this._createFullscreenButton(this._slideshowContainerElement);return this._setupHoverEvents(this._slideshowContainerElement,[e]),this._setupFullscreenKeyEvents(this._fullscreen),this._setupFullscreenClickEvent(e,this._fullscreen),this._setupFullscreenChangedHandler(this._fullscreen,e),this._fullScreenOnly&&this._fullscreen.addChangedCallback(t=>{t?g(this._slideshowContainerElement,"display"):a(this._slideshowContainerElement,"display","none")}),this}addThumbScroller(e,t,n){return this._thumbsViewer=new ie(e,t,n,s=>{this._slideshow.getLoader().setCurrentIndex(s),this._slideshow.getImageViewer().showImage(s)}).getThumbsViewer(),this._thumbsViewer&&(this._setupThumbsViewerResizeHandler(this._thumbsViewer),this._slideshow.getImageViewer().addImageChangedCallback((s,i)=>{this._thumbsViewer.setCenterThumb(s,!0)})),this}build(){return this._setupSwipeHandler(this._slideshowContainerElement,this._slideshow.getImageViewer()),this._setupKeyEvents(this._slideshow.getImageViewer()),new et(this._slideshow.getImageViewer(),this._slideshow.getLoader(),this._thumbsViewer,this._fullscreen)}_createPreviousNextButtons(e){const t=d("div");v(t,ae),u(t,D.gallery__previous_btn),u(t,f.fade),$(t,e);const n=d("div");return v(n,ae),u(n,D.gallery__next_btn),u(n,f.fade),E(n,e),{previousButton:t,nextButton:n}}_setupSwipeHandler(e,t){a(e,"touch-action","pinch-zoom pan-y"),new ze(e,(n,s)=>{const i=k(e).width,h=ce(e).x;n===b.LEFT?t.showPreviousImage(n):n===b.RIGHT?t.showNextImage(n):s.x-h>i/2?t.showNextImage():t.showPreviousImage()})}_setupThumbsViewerResizeHandler(e){we(()=>{})}_setupHoverEvents(e,t){C(e,"mouseenter",()=>{t.forEach(n=>{a(n,"opacity",`${Ge}`)})}),C(e,"mouseleave",()=>{t.forEach(n=>{a(n,"opacity","0")})})}_setupKeyEvents(e){U(t=>{switch(q(t)){case"ArrowRight":e.showNextImage();break;case"ArrowLeft":e.showPreviousImage();break}})}_setupFullscreenKeyEvents(e){U(t=>{switch(q(t)){case"Escape":e.deActivate();break;case"f":e.isActive()?e.deActivate():e.activate();break}})}_createFullscreenButton(e){const t=d("div");return v(t,nt),u(t,D.gallery__fullscreen_btn),u(t,f.fade),E(t,e),t}_setupFullscreenClickEvent(e,t){C(e,"pointerdown",n=>{n.stopPropagation()}),C(e,"pointerup",n=>{n.stopPropagation(),t.isActive()||(t.activate(),a(e,"display","none"))})}_setupFullscreenChangedHandler(e,t){e.addChangedCallback(n=>{n?a(t,"display","none"):g(t,"display")})}}function st(r,e,t){if(typeof r!="string")throw new Error("createGallery - first parameter must be containerSelector string");if(typeof e!="string")throw new Error("createGallery - second parameter must be imageSelector string");t&&le(t);const n=A(e),s=L(r);if(s&&(n==null?void 0:n.length)>0){const i=z.fromContainerAndImages(s,n,t).addPreviousNextButtons().addFullscreen();if(t!=null&&t.thumbSelector&&(t!=null&&t.thumbContainerSelector)){const h=L(t.thumbContainerSelector),_=A(t.thumbSelector);h&&_&&(_.length>1?i.addThumbScroller(h,_,t):a(h,"display","none"))}return i.build()}else throw new Error("createGallery - no images selected")}function it(r,e){if(typeof r!="string")throw new Error("createFullscreenOnlyGallery - first parameter must be imageSelector string");F(e);const t=A(r);if((t==null?void 0:t.length)>0)return z.fromImages(t,e).addPreviousNextButtons().addFullscreen().build();throw new Error("createFullscreenOnlyGallery - no images selected")}return c.EImageScaleMode=m,c.createFullscreenOnlyGallery=it,c.createGallery=st,c.createSlideshow=Me,c.createThumbsViewer=Qe,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c}({});
